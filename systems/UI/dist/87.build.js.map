{"version":3,"sources":["webpack:///src/Procurement/budget/edit_budget.vue","webpack:///./src/Procurement/budget/edit_budget.vue?ff1c","webpack:///./src/Procurement/budget/edit_budget.vue?ee51","webpack:///./src/Procurement/budget/edit_budget.vue?1fbc","webpack:///./src/Procurement/budget/edit_budget.vue"],"names":[],"mappings":";;;;;;;;;;;;AAmHA;;;;;;kBACA;AACA,WADA,2BACA;AAAA;;AACA,qFACA,IADA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDACA;AACA;AACA,iBAHA;AAKA;AACA,SAfA;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2FACA,IADA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SApBA;;AAwBA,oFACA,IADA,CAEA;AACA;AACA;AACA;AACA;AACA,SAPA;AASA;AACA;AACA,uFACA,IADA,CAEA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA,SAVA;AAYA,qFACA,IADA,CAEA;AACA;AACA;AACA,SALA;AAOA,oFACA,IADA,CAEA;AACA;AACA;AACA,SALA;AAOA,KAzFA;AA0FA,QA1FA,kBA0FA;AACA;AACA;AACA,yBADA;AAEA,6BAFA;AAGA,0BAHA;AAIA,yBAJA;AAKA,8BALA;AAMA,2BANA;AAOA,0BAPA;AAQA,uBARA;AASA,2BATA;AAUA,yBAVA;AAWA,0BAXA;AAYA,2BAZA;AAaA,sBAbA;AAcA,sBAdA;AAeA,uBAfA;AAgBA,kBAhBA;AAiBA,kBAjBA;AAkBA,0BAlBA;AAmBA;AACA,wBADA;AAEA,uBAFA;AAGA,+BAHA;AAIA,uBAJA;AAKA;AALA;AAnBA;AA2BA,KAvHA;;AAwHA;AACA,oBADA,wBACA,KADA,EACA;AAAA;;AACA;AACA;AACA,qFACA,IADA,CAEA;AACA;AACA;AACA;AACA,iBAFA,MAEA;AACA;AACA;AACA;AACA,aAVA;AAYA,mFACA,IADA,CAEA;AACA;AACA;AACA,aALA;AAOA,kFACA,IADA,CAEA;AACA;AACA;AACA,aALA;AAOA,SA9BA;AA+BA,eA/BA,mBA+BA,KA/BA,EA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAtCA;AAwCA,eAxCA,mBAwCA,KAxCA,EAwCA;AACA;AACA;AACA;AACA,SA5CA;A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","file":"87.build.js","sourcesContent":["<template>\r\n    <div class=\"row\">\r\n      <div class=\"col-xs-12 col-md-8\">\r\n        <div> <!--general-->\r\n        <form id='general_req_form' enctype=\"multipart/form-data\" class=\"form-horizontal\" data-vv-scope=\"form1\"  @submit.prevent=\"handleSubmit('form1')\" >\r\n        <div class=\"card\">\r\n          <div class=\"card-header\">\r\n            <strong>Edit Budget Plan</strong>\r\n          </div>            \r\n          <div class=\"card-body card-block\">\r\n            <div class=\"row form-group\">\r\n                <div class=\"col col-md-3\"><label class=\"form-control-label\">Department</label></div>  <!--cause fresh-->\r\n                <div class=\"col-12 col-md-9\">\r\n                    <select name=\"Request_for\" id=\"rf\" class=\"form-control\" v-model=\"budget.dept\" @change=\"load_supdept\" :readonly=\"(status=='approve_principal')||(status=='approve_head')\">\r\n                        <option v-for=\"dep in dept_list\">{{ dep.department }}</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div class=\"row form-group\" v-if=\"display_sub\">\r\n                <div class=\"col col-md-3\"><label class=\"form-control-label\">Sub-Department</label></div>  <!--cause fresh-->\r\n                <div class=\"col-12 col-md-9\">\r\n                    <select name=\"Request_for\" id=\"rf\" class=\"form-control\" v-model=\"budget.sub\" :readonly=\"(status=='approve_principal')||(status=='approve_head')\">\r\n                        <option v-for=\"sub_dep in sub_dept_list\">{{ sub_dep.subdept_full }}</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div class=\"row form-group\">\r\n                <div class=\"col col-md-3\"><label class=\"form-control-label\">Start Year</label></div>  <!--cause fresh-->\r\n                <div class=\"col-12 col-md-9\">\r\n                    <input type='month' v-model=\"st\" class=\"form-control\" :readonly=\"(status=='approve_principal')||(status=='approve_head')\"/>\r\n                </div>\r\n            </div>\r\n            <div class=\"row form-group\">\r\n                <div class=\"col col-md-3\"><label class=\"form-control-label\">Ending Year</label></div>  <!--cause fresh-->\r\n                <div class=\"col-12 col-md-9\">\r\n                    <input type='month' v-model=\"ed\" class=\"form-control\" :readonly=\"(status=='approve_principal')||(status=='approve_head')\"/>\r\n                </div>\r\n            </div>\r\n            <div class=\"row form-group\">\r\n                <div class=\"col col-md-3\"><label class=\"form-control-label\">Asset Category</label></div>  <!--cause fresh-->\r\n                <div class=\"col-12 col-md-9\">\r\n                    <select name=\"Request_for\" id=\"rf\" class=\"form-control\" v-model=\"budget.cat\" :readonly=\"(status=='approve_principal')||(status=='approve_head')\">\r\n                        <option v-for=\"cat in asset_list\">{{ cat.name }}</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n              <div class=\"row form-group\">\r\n                <div class=\"col col-md-3\"><label for=\"Description\" class=\" form-control-label\">Description</label></div>  <!--cause fresh-->\r\n                <div class=\"col-12 col-md-9\">\r\n                    <textarea id =\"Description\" name=\"Description\" rows=\"2\" cols=\"80\" placeholder=\"Enter description\" maxlength=\"250\" class=\"form-control\" :readonly=\"(status=='approve_principal')||(status=='approve_head')\" required v-model=\"budget.descript\"></textarea>                   \r\n                </div>\r\n              </div>  \r\n              <div style='display:flex;flex-direction:row;width:100%'>\r\n                <div class=\"row\">\r\n                        <label class=\" form-control-label\" style=\"padding-top:0.2em;margin-left:1em\">Unit Cost :</label>\r\n                        <input type='number' step='0.001' class=\"form-control\" style=\"width:10em;margin-left:1em\" v-model=\"unit_cost\" @change=\"cal_num\" :readonly=\"(status=='approve_principal')||(status=='approve_head')\" required>                   \r\n                </div>\r\n                <div class=\"row\" style=\"margin-left:3em\">\r\n                        <label class=\" form-control-label\" style=\"margin-left:1em;padding-top:0.2em\">Quantity :</label>\r\n                        <input type='number' class=\"form-control\" style=\"width:10em;margin-left:1em\" v-model=\"quantity\"  @change=\"cal_num\" :readonly=\"(status=='approve_principal')||(status=='approve_head')\" required>                   \r\n                </div>\r\n                <div class=\"row\" style=\"margin-left:3em\">\r\n                        <label class=\" form-control-label\" style=\"margin-left:1em;padding-top:0.2em\">Total Cost :</label>\r\n                        <input type='number' step='0.001' class=\"form-control\" style=\"width:10em;margin-left:1em\" v-model=\"total\" readonly>                   \r\n                </div>               \r\n              </div>     \r\n              <br/>\r\n              <div style='display:flex;flex-direction:row;width:100%'> <!--fund src-->\r\n                <div class=\"row\">\r\n                        <label class=\" form-control-label\" style=\"padding-top:0.2em;margin-left:1em\">Fund Source :</label>\r\n                        <select class=\"form-control\" :readonly=\"(status=='approve_principal')||(status=='approve_head')\" v-model=\"budget.fund[0]\" style=\"width:15em;margin-left:1em\">\r\n                            <option v-for=\"fundsrc in fund_list\">{{ fundsrc.name }}</option>\r\n                        </select>               \r\n                </div>\r\n                <div class=\"row\" style=\"margin-left:3em\">\r\n                        <label class=\" form-control-label\" style=\"margin-left:1em;padding-top:0.2em\">Cost :</label>\r\n                        <input type='number' step='0.001' min=0.001 class=\"form-control\" style=\"width:10em;margin-left:1em\" :readonly=\"(status=='approve_principal')||(status=='approve_head')\" v-model=\"fund_cost[0]\" required>   \r\n                        <div v-if=\"status!='approve_principal'\" class=\"fa fa-plus\" style=\"padding-top:0.4em;padding-left:0.8em;cursor:pointer\" @click=\"new_row\"/>                 \r\n                </div>                 \r\n                </div>\r\n                <div v-for=\"n in counter\">\r\n                    <div style='display:flex;flex-direction:row;width:100%;margin-top:0.4em'> <!--fund src extra-->\r\n                        <div class=\"row\">\r\n                            <label class=\" form-control-label\" style=\"padding-top:0.2em;margin-left:1em\">Fund Source :</label>\r\n                            <select class=\"form-control\" v-model=\"budget.fund[n]\" :readonly=\"(status=='approve_principal')||(status=='approve_head')\" style=\"width:15em;margin-left:1em\">\r\n                                <option v-for=\"fundsrc in fund_list\">{{ fundsrc.name }}</option>\r\n                            </select>               \r\n                        </div>\r\n                    <div class=\"row\" style=\"margin-left:3em\">\r\n                        <label class=\" form-control-label\" style=\"margin-left:1em;padding-top:0.2em\">Cost :</label>\r\n                        <input type='number' step='0.001' class=\"form-control\" min=0.001 style=\"width:10em;margin-left:1em\" :readonly=\"(status=='approve_principal')||(status=='approve_head')\" v-model=\"fund_cost[n]\" required>   \r\n                        <div v-if=\"status!='approve_principal'\" class=\"fa fa-minus\" style=\"padding-top:0.4em;padding-left:0.8em;cursor:pointer\" @click=\"remove_row\"/>                 \r\n                </div>                 \r\n                </div>  \r\n            </div>\r\n            <div v-html=\"message\">{{message}}</div>\r\n            </div>     \r\n\r\n        <div class=\"card-footer\">\r\n            <button type=\"submit\" class=\"btn btn-primary btn-sm\">\r\n              <i class=\"fa fa-paper-plane\"></i> Update\r\n            </button>\r\n            <button type=\"reset\" class=\"btn btn-danger btn-sm\" onclick=\"window.history.go(-1);return false;\">\r\n              <i class=\"fa fa-ban\"></i> Cancel\r\n            </button>\r\n        </div>\r\n      </form>\r\n    </div>  \r\n      <!--check form-->  \r\n    </div>  \r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\nasync created(){\r\n    await axios.get('Procurement/shared_backend/check_user_setup.php')\r\n            .then(\r\n                (response)=>{\r\n                    this.user_check = response.data[0].signed;\r\n                    var perm = response.data[0];\r\n                    if(!(this.user_check=='set')){\r\n                        this.$router.push('../user_setup');\r\n                    }\r\n                    if(perm.proc_level<3){\r\n                        this.$alert(\"No permission\").then(\r\n                            ()=>{\r\n                                this.$router.go(-1);\r\n                            }\r\n                        )\r\n                    }\r\n                }\r\n            )\r\n    var id = document.getElementById('tmp_id').value;\r\n    var stp = document.getElementById('st_tmp').value;\r\n    var edp = document.getElementById('ed_tmp').value;\r\n    var formData_id = new FormData();\r\n    formData_id.append('id',id);\r\n    formData_id.append('st',stp);\r\n    formData_id.append('ed',edp);\r\n    //period\r\n    var i =0;\r\n    await axios.post('Procurement/budget/backend/get_form.php',formData_id)\r\n        .then(\r\n            (response)=>{\r\n                this.return_data = response.data;\r\n                this.budget.dept = response.data[0].dept_full;\r\n                this.budget.sub = response.data[0].subdept_full;\r\n                this.budget.descript = response.data[0].description;\r\n                this.budget.cat = response.data[0].asset_cat_full;\r\n                this.unit_cost = response.data[0].cost_unit;\r\n                this.quantity = response.data[0].quantity;\r\n                this.total = response.data[0].cost_total;\r\n                this.st = response.data[0].period_st;\r\n                this.ed = response.data[0].period_end;\r\n                this.counter = Number(response.data[0].fund_count)-1;\r\n                this.status = response.data[0].status;\r\n                var counter_tmp = response.data[0].fund_count;\r\n                for(i=0;i<counter_tmp;i++){\r\n                    this.budget.fund[i]=response.data[i].fundsrc;\r\n                    this.fund_cost[i]=response.data[i].fundcost;\r\n                }\r\n            }\r\n        )\r\n\r\n\r\n    await axios.get('Procurement/department/backend/dept_member.php')\r\n        .then(\r\n            (response)=>{\r\n                this.dept_list = response.data;\r\n                this.budget.dept = this.dept_list[0].department;\r\n                this.dept_ready = true;\r\n                console.log(this.dept_list)\r\n            }\r\n        );\r\n    var formData = new FormData();\r\n        formData.append('dept',this.budget.dept);\r\n        await axios.post('Procurement/budget/backend/subdept.php',formData)\r\n        .then(\r\n            (response)=>{\r\n                    this.sub_dept_list = response.data;                  \r\n                    if(this.sub_dept_list==''){\r\n                        this.display_sub = false;\r\n                    } else {\r\n                        //this.budget.sub = this.sub_dept_list[0].subdept_full;\r\n                        this.display_sub = true;\r\n                    }\r\n                }\r\n        )  \r\n        await axios.post('Procurement/budget/backend/asset.php',formData)\r\n            .then(\r\n                (response)=>{\r\n                    this.asset_list = response.data;\r\n                    //this.budget.cat = this.asset_list[0].name;\r\n                }\r\n            )\r\n        await axios.post('Procurement/budget/backend/fund.php',formData)\r\n            .then(\r\n                (response)=>{\r\n                    this.fund_list = response.data;\r\n                    //this.budget.fund[0] = this.fund_list[0].name;\r\n                }\r\n            )    \r\n  },\r\n    data(){          \r\n        var tmr =document.getElementById('tmr_date').value;\r\n        return{\r\n            dept_list:[],\r\n            sub_dept_list:[],\r\n            asset_list:[],\r\n            fund_list:[],\r\n            display_sub:false,\r\n            unit_cost:null,\r\n            quantity:null,\r\n            total: null,\r\n            check_num:true,\r\n            fund_cost:[],\r\n            fund_chose:[],\r\n            return_data:[],\r\n            counter:0,\r\n            status:'',\r\n            message:'',\r\n            st:'',\r\n            ed:'',\r\n            user_check:'',\r\n            budget:{\r\n                dept:'',\r\n                sub:'',\r\n                description:'',\r\n                cat:'',\r\n                fund:[],            \r\n            }\r\n        }  \r\n    },\r\n    methods:{\r\n        load_supdept(event){\r\n            var formData = new FormData();\r\n            formData.append('dept',this.budget.dept);\r\n            axios.post('Procurement/budget/backend/subdept.php',formData)\r\n            .then(\r\n                (response)=>{\r\n                    this.sub_dept_list = response.data;                  \r\n                    if(this.sub_dept_list==''){\r\n                        this.display_sub = false;\r\n                    } else {\r\n                        this.budget.sub = this.sub_dept_list[0].subdept_full;\r\n                        this.display_sub = true;\r\n                    }\r\n                }\r\n            )\r\n            axios.post('Procurement/budget/backend/asset.php',formData)\r\n            .then(\r\n                (response)=>{\r\n                    this.asset_list = response.data;\r\n                    this.budget.cat = this.asset_list[0].name;\r\n                }\r\n            )\r\n            axios.post('Procurement/budget/backend/fund.php',formData)\r\n            .then(\r\n                (response)=>{\r\n                    this.fund_list = response.data;\r\n                    this.budget.fund[0] = this.fund_list[0].name;\r\n                }\r\n            )\r\n        },\r\n        cal_num(event){\r\n            this.total = this.unit_cost * this.quantity;\r\n            if(isNaN(this.total)){\r\n                this.total = '...';\r\n                this.check_num = false;\r\n            }\r\n            this.fund_cost[0] = this.total;\r\n            },\r\n\r\n        new_row(event){\r\n            this.counter = this.counter+1;\r\n            this.fund_cost[0] = '';\r\n            this.budget.fund[this.counter] = this.fund_list[0].name;\r\n        },\r\n        remove_row(event){\r\n            this.counter = this.counter-1;\r\n            if(this.counter ==0){\r\n               this.total = this.unit_cost * this.quantity;\r\n               if(isNaN(this.total)){\r\n                this.total = '...';\r\n                this.check_num = false;\r\n            }\r\n            this.fund_cost[0] = this.total;\r\n            }\r\n        },\r\n        handleSubmit(event){\r\n            var id = document.getElementById('tmp_id').value;\r\n            var formData = new FormData();\r\n            formData.append('tag',id);\r\n            formData.append('dept',this.budget.dept);\r\n            formData.append('sub_dept',this.budget.sub);\r\n            formData.append('deptasset',this.budget.cat);\r\n            formData.append('descript',this.budget.descript);\r\n            formData.append('unit',this.unit_cost);\r\n            formData.append('quant',this.quantity);\r\n            formData.append('total',this.total);\r\n            formData.append('deptfunds',this.budget.fund);\r\n            formData.append('fund_value',this.fund_cost);\r\n            formData.append('st',this.st);\r\n            formData.append('ed',this.ed);\r\n            formData.append('status',this.status);\r\n            axios.post('Procurement/budget/backend/update_plan.php',formData)\r\n            .then(\r\n                (response)=>{\r\n                    this.message = response.data;\r\n                    if(this.message==\"<p><h4>Successfully Updated Record ! Click <a href='#' onclick = 'exit_form()' style='color:rgb(238,28,37)'> HERE</a> to close </h4></p>\"){\r\n                    this.$router.push('view_budget');\r\n                    }\r\n                }\r\n            )\r\n        }\r\n        },\r\n        \r\n}\r\n</script>\r\n\r\n\r\n<style scoped>\r\n  .input-group-addon {\r\n    background-color: transparent;\r\n    border-left: 0;\r\n}\r\ninput[type=date]::-webkit-inner-spin-button {\r\n    -webkit-appearance: none;\r\n    display: none;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/Procurement/budget/edit_budget.vue","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-59415088\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./edit_budget.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"0a9bc3b2\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-59415088\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/Procurement/budget/edit_budget.vue\n// module id = 1444\n// module chunks = 87","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".input-group-addon[data-v-59415088]{background-color:transparent;border-left:0}input[type=date][data-v-59415088]::-webkit-inner-spin-button{-webkit-appearance:none;display:none}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-59415088\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/Procurement/budget/edit_budget.vue\n// module id = 1445\n// module chunks = 87","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xs-12 col-md-8\"},[_c('div',[_c('form',{staticClass:\"form-horizontal\",attrs:{\"id\":\"general_req_form\",\"enctype\":\"multipart/form-data\",\"data-vv-scope\":\"form1\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit('form1')}}},[_c('div',{staticClass:\"card\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"card-body card-block\"},[_c('div',{staticClass:\"row form-group\"},[_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"col-12 col-md-9\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.budget.dept),expression:\"budget.dept\"}],staticClass:\"form-control\",attrs:{\"name\":\"Request_for\",\"id\":\"rf\",\"readonly\":(_vm.status=='approve_principal')||(_vm.status=='approve_head')},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.budget, \"dept\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},_vm.load_supdept]}},_vm._l((_vm.dept_list),function(dep){return _c('option',[_vm._v(_vm._s(dep.department))])}),0)])]),_vm._v(\" \"),(_vm.display_sub)?_c('div',{staticClass:\"row form-group\"},[_vm._m(2),_vm._v(\" \"),_c('div',{staticClass:\"col-12 col-md-9\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.budget.sub),expression:\"budget.sub\"}],staticClass:\"form-control\",attrs:{\"name\":\"Request_for\",\"id\":\"rf\",\"readonly\":(_vm.status=='approve_principal')||(_vm.status=='approve_head')},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.budget, \"sub\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.sub_dept_list),function(sub_dep){return _c('option',[_vm._v(_vm._s(sub_dep.subdept_full))])}),0)])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"row form-group\"},[_vm._m(3),_vm._v(\" \"),_c('div',{staticClass:\"col-12 col-md-9\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.st),expression:\"st\"}],staticClass:\"form-control\",attrs:{\"type\":\"month\",\"readonly\":(_vm.status=='approve_principal')||(_vm.status=='approve_head')},domProps:{\"value\":(_vm.st)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.st=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"row form-group\"},[_vm._m(4),_vm._v(\" \"),_c('div',{staticClass:\"col-12 col-md-9\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.ed),expression:\"ed\"}],staticClass:\"form-control\",attrs:{\"type\":\"month\",\"readonly\":(_vm.status=='approve_principal')||(_vm.status=='approve_head')},domProps:{\"value\":(_vm.ed)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.ed=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"row form-group\"},[_vm._m(5),_vm._v(\" \"),_c('div',{staticClass:\"col-12 col-md-9\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.budget.cat),expression:\"budget.cat\"}],staticClass:\"form-control\",attrs:{\"name\":\"Request_for\",\"id\":\"rf\",\"readonly\":(_vm.status=='approve_principal')||(_vm.status=='approve_head')},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.budget, \"cat\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.asset_list),function(cat){return _c('option',[_vm._v(_vm._s(cat.name))])}),0)])]),_vm._v(\" \"),_c('div',{staticClass:\"row form-group\"},[_vm._m(6),_vm._v(\" \"),_c('div',{staticClass:\"col-12 col-md-9\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.budget.descript),expression:\"budget.descript\"}],staticClass:\"form-control\",attrs:{\"id\":\"Description\",\"name\":\"Description\",\"rows\":\"2\",\"cols\":\"80\",\"placeholder\":\"Enter description\",\"maxlength\":\"250\",\"readonly\":(_vm.status=='approve_principal')||(_vm.status=='approve_head'),\"required\":\"\"},domProps:{\"value\":(_vm.budget.descript)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.budget, \"descript\", $event.target.value)}}})])]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"row\",\"width\":\"100%\"}},[_c('div',{staticClass:\"row\"},[_c('label',{staticClass:\" form-control-label\",staticStyle:{\"padding-top\":\"0.2em\",\"margin-left\":\"1em\"}},[_vm._v(\"Unit Cost :\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.unit_cost),expression:\"unit_cost\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"10em\",\"margin-left\":\"1em\"},attrs:{\"type\":\"number\",\"step\":\"0.001\",\"readonly\":(_vm.status=='approve_principal')||(_vm.status=='approve_head'),\"required\":\"\"},domProps:{\"value\":(_vm.unit_cost)},on:{\"change\":_vm.cal_num,\"input\":function($event){if($event.target.composing){ return; }_vm.unit_cost=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"row\",staticStyle:{\"margin-left\":\"3em\"}},[_c('label',{staticClass:\" form-control-label\",staticStyle:{\"margin-left\":\"1em\",\"padding-top\":\"0.2em\"}},[_vm._v(\"Quantity :\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.quantity),expression:\"quantity\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"10em\",\"margin-left\":\"1em\"},attrs:{\"type\":\"number\",\"readonly\":(_vm.status=='approve_principal')||(_vm.status=='approve_head'),\"required\":\"\"},domProps:{\"value\":(_vm.quantity)},on:{\"change\":_vm.cal_num,\"input\":function($event){if($event.target.composing){ return; }_vm.quantity=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"row\",staticStyle:{\"margin-left\":\"3em\"}},[_c('label',{staticClass:\" form-control-label\",staticStyle:{\"margin-left\":\"1em\",\"padding-top\":\"0.2em\"}},[_vm._v(\"Total Cost :\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.total),expression:\"total\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"10em\",\"margin-left\":\"1em\"},attrs:{\"type\":\"number\",\"step\":\"0.001\",\"readonly\":\"\"},domProps:{\"value\":(_vm.total)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.total=$event.target.value}}})])]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"row\",\"width\":\"100%\"}},[_c('div',{staticClass:\"row\"},[_c('label',{staticClass:\" form-control-label\",staticStyle:{\"padding-top\":\"0.2em\",\"margin-left\":\"1em\"}},[_vm._v(\"Fund Source :\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.budget.fund[0]),expression:\"budget.fund[0]\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"15em\",\"margin-left\":\"1em\"},attrs:{\"readonly\":(_vm.status=='approve_principal')||(_vm.status=='approve_head')},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.budget.fund, 0, $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.fund_list),function(fundsrc){return _c('option',[_vm._v(_vm._s(fundsrc.name))])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"row\",staticStyle:{\"margin-left\":\"3em\"}},[_c('label',{staticClass:\" form-control-label\",staticStyle:{\"margin-left\":\"1em\",\"padding-top\":\"0.2em\"}},[_vm._v(\"Cost :\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.fund_cost[0]),expression:\"fund_cost[0]\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"10em\",\"margin-left\":\"1em\"},attrs:{\"type\":\"number\",\"step\":\"0.001\",\"min\":\"0.001\",\"readonly\":(_vm.status=='approve_principal')||(_vm.status=='approve_head'),\"required\":\"\"},domProps:{\"value\":(_vm.fund_cost[0])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.fund_cost, 0, $event.target.value)}}}),_vm._v(\" \"),(_vm.status!='approve_principal')?_c('div',{staticClass:\"fa fa-plus\",staticStyle:{\"padding-top\":\"0.4em\",\"padding-left\":\"0.8em\",\"cursor\":\"pointer\"},on:{\"click\":_vm.new_row}}):_vm._e()])]),_vm._v(\" \"),_vm._l((_vm.counter),function(n){return _c('div',[_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"row\",\"width\":\"100%\",\"margin-top\":\"0.4em\"}},[_c('div',{staticClass:\"row\"},[_c('label',{staticClass:\" form-control-label\",staticStyle:{\"padding-top\":\"0.2em\",\"margin-left\":\"1em\"}},[_vm._v(\"Fund Source :\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.budget.fund[n]),expression:\"budget.fund[n]\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"15em\",\"margin-left\":\"1em\"},attrs:{\"readonly\":(_vm.status=='approve_principal')||(_vm.status=='approve_head')},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.budget.fund, n, $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.fund_list),function(fundsrc){return _c('option',[_vm._v(_vm._s(fundsrc.name))])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"row\",staticStyle:{\"margin-left\":\"3em\"}},[_c('label',{staticClass:\" form-control-label\",staticStyle:{\"margin-left\":\"1em\",\"padding-top\":\"0.2em\"}},[_vm._v(\"Cost :\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.fund_cost[n]),expression:\"fund_cost[n]\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"10em\",\"margin-left\":\"1em\"},attrs:{\"type\":\"number\",\"step\":\"0.001\",\"min\":\"0.001\",\"readonly\":(_vm.status=='approve_principal')||(_vm.status=='approve_head'),\"required\":\"\"},domProps:{\"value\":(_vm.fund_cost[n])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.fund_cost, n, $event.target.value)}}}),_vm._v(\" \"),(_vm.status!='approve_principal')?_c('div',{staticClass:\"fa fa-minus\",staticStyle:{\"padding-top\":\"0.4em\",\"padding-left\":\"0.8em\",\"cursor\":\"pointer\"},on:{\"click\":_vm.remove_row}}):_vm._e()])])])}),_vm._v(\" \"),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.message)}},[_vm._v(_vm._s(_vm.message))])],2),_vm._v(\" \"),_vm._m(7)])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(\"Edit Budget Plan\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col col-md-3\"},[_c('label',{staticClass:\"form-control-label\"},[_vm._v(\"Department\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col col-md-3\"},[_c('label',{staticClass:\"form-control-label\"},[_vm._v(\"Sub-Department\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col col-md-3\"},[_c('label',{staticClass:\"form-control-label\"},[_vm._v(\"Start Year\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col col-md-3\"},[_c('label',{staticClass:\"form-control-label\"},[_vm._v(\"Ending Year\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col col-md-3\"},[_c('label',{staticClass:\"form-control-label\"},[_vm._v(\"Asset Category\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col col-md-3\"},[_c('label',{staticClass:\" form-control-label\",attrs:{\"for\":\"Description\"}},[_vm._v(\"Description\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-footer\"},[_c('button',{staticClass:\"btn btn-primary btn-sm\",attrs:{\"type\":\"submit\"}},[_c('i',{staticClass:\"fa fa-paper-plane\"}),_vm._v(\" Update\\n        \")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-danger btn-sm\",attrs:{\"type\":\"reset\",\"onclick\":\"window.history.go(-1);return false;\"}},[_c('i',{staticClass:\"fa fa-ban\"}),_vm._v(\" Cancel\\n        \")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-59415088\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/Procurement/budget/edit_budget.vue\n// module id = 1446\n// module chunks = 87","function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader?minimize!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-59415088\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./edit_budget.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./edit_budget.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./edit_budget.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-59415088\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./edit_budget.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-59415088\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Procurement/budget/edit_budget.vue\n// module id = 322\n// module chunks = 87"],"sourceRoot":""}