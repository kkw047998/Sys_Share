{"version":3,"sources":["webpack:///src/Procurement/budget/create_bp.vue","webpack:///./src/Procurement/budget/create_bp.vue?7096","webpack:///./src/Procurement/budget/create_bp.vue?6548","webpack:///./src/Procurement/budget/create_bp.vue?ea11","webpack:///./src/Procurement/budget/create_bp.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kBAuIA;AACA,QADA,kBACA;AACA;AACA,6BADA;AAEA,8BAFA;AAGA,wBAHA;AAIA,sBAJA;AAKA,wBALA;AAMA,oBANA;AAOA,yBAPA;AAQA,uBARA;AASA,oBATA;AAUA,wBAVA;AAWA,uBAXA;AAYA,yBAZA;AAaA,2BAbA;AAcA,0BAdA;AAeA,yBAfA;AAgBA,qBAhBA;AAiBA,qBAjBA;AAkBA,6BAlBA;AAmBA,wBAnBA;AAoBA,8BApBA;AAqBA,2BArBA;AAsBA;AAtBA;AAwBA,KA1BA;AA2BA,WA3BA,2BA2BA;AAAA;;AACA,2EACA,IADA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDACA;AACA;AACA,iBAHA;AAKA;AACA,SAfA;AAiBA,yEACA,IADA,CAEA;AACA;AACA;AACA;AACA;AACA,SAPA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAhEA;;AAiEA;AACA,uBADA,mCACA;AACA;AACA;AACA;AACA,SALA;AAMA,gBANA,sBAMA;AACA;AACA;AACA,SATA;AAUA,mBAVA,yBAUA;AACA;AACA,SAZA;AAaA,iBAbA,qBAaA,IAbA,EAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlBA;AAoBA;AACA,SAnCA;AAoCA,qBApCA,iCAoCA;AACA;AACA;AACA;AACA,SAxCA;AAyCA,oBAzCA,gCAyCA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2FACA,IADA,CAEA;AACA;AACA,0EACA,IADA,CAEA;AACA;AACA,yBAJA;AAMA;AACA;AACA,iBAZA;AAcA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","file":"91.build.js","sourcesContent":["<template>\r\n    <div v-if=\"ready\">\r\n        <form @submit.prevent=\"handleSubmit()\" class=\"col-12\">\r\n            <div class=\"card\">\r\n                <div class=\"card-header\">\r\n                    <strong>Draft Budget Plan</strong>\r\n                </div>            \r\n                <div class=\"card-body card-block\">\r\n                    <div class=\"col-12\">\r\n                        <label><b><u>Section 1. General Information</u></b></label>\r\n                    </div>\r\n                    <div class=\"col-12 flex px0\">\r\n                        <div class=\"col-4\">\r\n                            Select Department\r\n                        </div>\r\n                        <div class=\"col-8\">\r\n                            <select class=\"form-control select\" v-model=\"dept\" @change=\"fetch_dept_info()\">\r\n                                <option v-for=\"d in dept_list\" :value=\"d.deptmentid\">{{ d.department }}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div v-if=\"sub_dept!='na'\" class=\"col-12 flex px0\">\r\n                        <div class=\"col-4\">\r\n                            Select Sub Department\r\n                        </div>\r\n                        <div class=\"col-8\">\r\n                            <select class=\"form-control select\" v-model=\"sub_dept\">\r\n                                <option :value=\"dept\">N/A</option>\r\n                                <option v-for=\"sd in sub_dept_list\" :value=\"sd.subdept\">{{ sd.subdept_full }}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-12 flex px0\">\r\n                        <div class=\"col-4\">\r\n                            School Year\r\n                        </div>\r\n                        <div class=\"col-8 flex px0\">\r\n                            <div class=\"col-6\">\r\n                                <input type=\"number\" class=\"form-control\" v-model=\"st\" @change=\"update_period\"/>\r\n                            </div>\r\n                            <div class=\"col-6\">\r\n                                <input type=\"number\" class=\"form-control\" v-model=\"ed\" readonly/>\r\n                            </div>                           \r\n                        </div>\r\n                    </div>\r\n                    <div v-if=\"new_asset==false\" class=\"col-12 flex px0\">\r\n                        <div class=\"col-4\">\r\n                            Asset Category\r\n                        </div>\r\n                        <div class=\"col-8\">\r\n                            <select class=\"form-control select\" v-model=\"asset_cat\">\r\n                                <option v-for=\"a in asset_list\" :value=\"a.code\">{{ a.name }}</option>\r\n                                <option value=\"new_asset_cat\">New Asset Category</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div v-if=\"new_asset\" class=\"col-12 flex px0\">\r\n                        <div class=\"col-4\">\r\n                            Asset Category\r\n                        </div>\r\n                        <div class=\"col-8\">\r\n                            New Asset Category\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-12 flex px0\">\r\n                        <div class=\"col-4\">\r\n                            Description\r\n                        </div>\r\n                        <div class=\"col-8\">\r\n                            <textarea class=\"form-control\" rows=\"2\" cols=\"80\" maxlength=\"160\" style='resize:none' placeholder=\"Enter Description\" v-model=\"description\" required></textarea>                \r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-12\">\r\n                        <label><b><u>Section 2. Budget Information</u></b></label>\r\n                    </div>\r\n                    <div class=\"col-12 flex px0\">\r\n                        <div class=\"col-4\">\r\n                            Unit Cost\r\n                        </div>\r\n                        <div class=\"col-8\">\r\n                            <input type=\"number\" class=\"form-control\" step=\"0.01\" min=\"0.01\" v-model=\"unit_cost\" required @change=\"calculate('unit')\"/>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-12 flex px0\">\r\n                        <div class=\"col-4\">\r\n                            Quantity\r\n                        </div>\r\n                        <div class=\"col-8\">\r\n                            <input type=\"number\" class=\"form-control\" step=\"1\" min=\"1\" v-model=\"quantity\" required @change=\"calculate('quantity')\"/>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-12 flex px0\">\r\n                        <div class=\"col-4\">\r\n                            Total Amount\r\n                        </div>\r\n                        <div class=\"col-8\">\r\n                            <input type=\"number\" class=\"form-control\" step=\"0.01\" min=\"0.01\" v-model=\"total_cost\" required @change=\"calculate('total')\"/>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-12\">\r\n                        <label><b><u>Section 3. Details</u></b></label>\r\n                    </div>\r\n                    <div v-for=\"c in counter\" class=\"col-12 flex px0\">\r\n                        <div class=\"col-3\">\r\n                            Fund Source {{ c }}\r\n                        </div>\r\n                        <div class=\"col-1\" style='text-align:right;padding-top:0.3rem'>\r\n                            <i v-if=\"c==1\" class=\"fa fa-plus\" aria-hidden=\"true\" @click=\"add_item\"></i>\r\n                            <i v-if=\"c>1\" class=\"fa fa-minus\" aria-hidden=\"true\" @click=\"remove_item\"></i>\r\n                        </div>\r\n                        <div class=\"col-8 flex px0\">\r\n                            <div class=\"col-6\">\r\n                                <select class=\"form-control select\" v-model=\"fundsrc[c-1]\">\r\n                                    <option v-for=\"f in fundlist\">{{ f.name }}</option>\r\n                                </select>\r\n                            </div>\r\n                            <div class=\"col-6\">\r\n                                <input type=\"number\" step=\"0.01\" min=\"0.01\" class=\"form-control\" v-model=\"cost[c-1]\" required/>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"card-footer\">\r\n                    <button type=\"submit\" class=\"btn btn-primary btn-sm\" :disabled=\"processing\">\r\n                        <i class=\"fa fa-paper-plane\"></i> Submit\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-danger btn-sm\" @click=\"return_prev\">\r\n                        <i class=\"fa fa-undo\"></i> Return\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data(){\r\n        return {\r\n            processing:false,\r\n            display_sub:false,\r\n            fundlist:[],\r\n            counter:1,\r\n            ready:false,\r\n            dept:'',\r\n            dept_list:[],\r\n            fundsrc:[],\r\n            cost:[],\r\n            unit_cost:0,\r\n            quantity:1,\r\n            total_cost:0,\r\n            description:'',\r\n            asset_list:[],\r\n            asset_cat:'',\r\n            st_yr:'',\r\n            ed_yr:'',\r\n            sub_dept_list:[],\r\n            sub_dept:'',\r\n            hv_sub_dept:false,\r\n            new_asset:true,\r\n            user_check:'',\r\n        }\r\n    },\r\n    async created(){\r\n        await axios.get('Procurement/shared_backend/check_user_setup.php')\r\n            .then(\r\n                (response)=>{\r\n                    this.user_check = response.data[0].signed;\r\n                    var perm = response.data[0];\r\n                    if(!(this.user_check=='set')){\r\n                        this.$router.push('../user_setup');\r\n                    }\r\n                    if(perm.proc_level<1){\r\n                        this.$alert(\"No permission\").then(\r\n                            ()=>{\r\n                                this.$router.go(-1);\r\n                            }\r\n                        )\r\n                    }\r\n                }\r\n            )\r\n        await axios.get('Procurement/shared_backend/default_period.php')\r\n            .then(\r\n                (response)=>{\r\n                    var st = response.data.st.split(\"-\");\r\n                    var ed = response.data.ed.split(\"-\");\r\n                    this.st = parseInt(st[0])+1;\r\n                    this.ed = parseInt(ed[0])+1;\r\n                }\r\n            )\r\n        await this.fetch_dept();\r\n        var query_dpt = document.getElementById('query').value;\r\n        if((query_dpt!=undefined)&&(query_dpt!='')){\r\n            this.dept = query_dpt;\r\n        }\r\n        await this.fetch_sub_dept();\r\n        await this.fetch_asset();\r\n        await this.fetch_fund();\r\n        this.asset_cat = 'new_asset_cat';\r\n        this.ready=true;\r\n    },   \r\n    methods:{\r\n        async fetch_dept_info(){\r\n            await this.fetch_sub_dept();\r\n            await this.fetch_asset();\r\n            await this.fetch_fund();\r\n        },\r\n        add_item(){\r\n            this.counter++;\r\n            this.fundsrc[this.counter-1] = this.fundlist[0].name;\r\n        },\r\n        remove_item(){\r\n            this.counter--;\r\n        },\r\n        calculate(mode){\r\n            switch(mode){\r\n                case 'unit':\r\n                    this.total_cost = this.unit_cost*this.quantity;\r\n                    if(this.counter==1){\r\n                        this.cost[0] = this.total_cost;\r\n                    }\r\n                break;\r\n                case 'quantity':\r\n                    this.total_cost = this.unit_cost*this.quantity;\r\n                    if(this.counter==1){\r\n                        this.cost[0] = this.total_cost;\r\n                    }\r\n                break;\r\n                case 'total':\r\n                    this.unit_cost = this.total_cost/this.quantity;\r\n                    if(this.counter==1){\r\n                        this.cost[0] = this.total_cost;\r\n                    }                   \r\n                break;\r\n            }\r\n            this.$forceUpdate();\r\n        },\r\n        async update_period(){\r\n            this.ed = parseInt(this.st)+1;\r\n            this.$forceUpdate();\r\n            await this.fetch_fund();\r\n        },\r\n        async handleSubmit(){\r\n            this.processing = true;\r\n            var formData = new FormData();\r\n            formData.append('dept',this.dept);\r\n            formData.append('sub_dept',this.sub_dept);\r\n            formData.append('st',this.st);\r\n            formData.append('ed',this.ed);\r\n            formData.append('asset',this.asset_cat);\r\n            formData.append('description',this.description);\r\n            formData.append('unit_cost',this.unit_cost);\r\n            formData.append('quantity',this.quantity);\r\n            formData.append('total',this.total_cost);\r\n            formData.append('fundsrc',this.fundsrc);\r\n            formData.append('fundcost',this.cost);\r\n            formData.append('counter',this.counter);\r\n            formData.append('new_asset',this.new_asset);\r\n            var check_val = 0;\r\n            var i=0;\r\n            for(i=0;i<this.counter;i++){\r\n                check_val = check_val + parseFloat(this.cost[i]);\r\n            }\r\n            if(check_val==this.total_cost){\r\n                await axios.post('Procurement/budget/backend/create_budget.php',formData)\r\n                    .then(\r\n                        (response)=>{\r\n                            if(response.data==\"OK\"){\r\n                                this.$alert('Successfully Created Budget Item')\r\n                                    .then(\r\n                                        ()=>{\r\n                                            this.processing = false;                                          \r\n                                        }\r\n                                    )\r\n                                this.$router.push('view_bp_json');\r\n                            }\r\n                        }\r\n                    )\r\n            } else {\r\n                this.$alert('Please check input value(s)');\r\n            }\r\n        },\r\n        return_prev(){\r\n            this.$router.go(-1);\r\n        },\r\n        async fetch_asset(){\r\n            var formData =  new FormData();\r\n            formData.append('dept',this.dept);\r\n            formData.append('st',this.st);\r\n            formData.append('ed',this.ed);\r\n            await axios.post('Procurement/budget/backend/fetch_asset_dept.php',formData)\r\n                .then(\r\n                    (response)=>{\r\n                        if(response.data!='empty'){\r\n                            this.asset_list = response.data;\r\n                            this.new_asset = false;\r\n                            //this.asset_cat = this.asset_list[0].code;\r\n                        } else {\r\n                            this.new_asset = true;\r\n                        }\r\n                    }\r\n                )\r\n        },\r\n        async fetch_sub_dept(){\r\n            var formData = new FormData();\r\n            formData.append('dept',this.dept);\r\n            axios.post('Procurement/budget/backend/subdept.php',formData)\r\n                .then(\r\n                    (response)=>{\r\n                        this.sub_dept_list = response.data;                  \r\n                        if(this.sub_dept_list==''){\r\n                            this.display_sub = false;\r\n                            this.sub_dept = 'na';\r\n                        } else {\r\n                            this.sub_dept = this.dept;\r\n                            this.display_sub = true;\r\n                        }\r\n                    }\r\n                )\r\n        },\r\n        async fetch_fund(){\r\n            var formData =  new FormData();\r\n            formData.append('dept',this.dept);\r\n            formData.append('st',this.st);\r\n            formData.append('ed',this.ed);\r\n            await axios.post('Procurement/budget/backend/fetch_yr_fund.php',formData)\r\n                .then(\r\n                    (response)=>{\r\n                        if(response.data=='empty'){\r\n                            this.$alert(\"Fundings not found for selected year, please create funding source.\")\r\n                                .then(\r\n                                    ()=>{\r\n                                        this.$router.push('../department/fund');\r\n                                    }\r\n                                )                           \r\n                        } else {\r\n                            this.fundlist = response.data;\r\n                            this.fundsrc[0] = response.data[0].name;\r\n                        }\r\n                    }\r\n                )\r\n        },\r\n        async check_asset(){\r\n\r\n        },\r\n        async fetch_dept(){\r\n            await axios.get('Procurement/department/backend/dept_member.php')\r\n                .then(\r\n                    (response)=>{\r\n                        this.dept_list = response.data;\r\n                        this.dept = this.dept_list[0].deptmentid;             \r\n                    }\r\n                );\r\n        }\r\n    } \r\n}\r\n</script>\r\n<style scoped>\r\n    .flex{\r\n        display:flex;\r\n        flex-direction:row;\r\n    }\r\n    .px0{\r\n        padding-left:0;\r\n        padding-right:0;\r\n    }\r\n    .col-12.flex.px0{\r\n        margin-bottom:1rem;\r\n    }\r\n    .fa-minus{\r\n        color:rgb(238,28,37);\r\n        transition: 0.35s;\r\n        cursor:pointer;\r\n    }\r\n    .fa-minus:hover{\r\n        color:rgb(156,10,16);\r\n    }\r\n    .fa-plus{\r\n        color:rgb(63, 166, 65);\r\n        transition: 0.35s;\r\n        cursor:pointer;\r\n    }\r\n    .fa-plus:hover{\r\n        color:rgb(41, 128, 42);\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/Procurement/budget/create_bp.vue","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2621bd8f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./create_bp.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"76159e3b\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-2621bd8f\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/Procurement/budget/create_bp.vue\n// module id = 1426\n// module chunks = 91","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".flex[data-v-2621bd8f]{display:flex;flex-direction:row}.px0[data-v-2621bd8f]{padding-left:0;padding-right:0}.col-12.flex.px0[data-v-2621bd8f]{margin-bottom:1rem}.fa-minus[data-v-2621bd8f]{color:#ee1c25;transition:.35s;cursor:pointer}.fa-minus[data-v-2621bd8f]:hover{color:#9c0a10}.fa-plus[data-v-2621bd8f]{color:#3fa641;transition:.35s;cursor:pointer}.fa-plus[data-v-2621bd8f]:hover{color:#29802a}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-2621bd8f\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/Procurement/budget/create_bp.vue\n// module id = 1427\n// module chunks = 91","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.ready)?_c('div',[_c('form',{staticClass:\"col-12\",on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit()}}},[_c('div',{staticClass:\"card\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"card-body card-block\"},[_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"col-12 flex px0\"},[_c('div',{staticClass:\"col-4\"},[_vm._v(\"\\n                        Select Department\\n                    \")]),_vm._v(\" \"),_c('div',{staticClass:\"col-8\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.dept),expression:\"dept\"}],staticClass:\"form-control select\",on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.dept=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},function($event){return _vm.fetch_dept_info()}]}},_vm._l((_vm.dept_list),function(d){return _c('option',{domProps:{\"value\":d.deptmentid}},[_vm._v(_vm._s(d.department))])}),0)])]),_vm._v(\" \"),(_vm.sub_dept!='na')?_c('div',{staticClass:\"col-12 flex px0\"},[_c('div',{staticClass:\"col-4\"},[_vm._v(\"\\n                        Select Sub Department\\n                    \")]),_vm._v(\" \"),_c('div',{staticClass:\"col-8\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sub_dept),expression:\"sub_dept\"}],staticClass:\"form-control select\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.sub_dept=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{domProps:{\"value\":_vm.dept}},[_vm._v(\"N/A\")]),_vm._v(\" \"),_vm._l((_vm.sub_dept_list),function(sd){return _c('option',{domProps:{\"value\":sd.subdept}},[_vm._v(_vm._s(sd.subdept_full))])})],2)])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"col-12 flex px0\"},[_c('div',{staticClass:\"col-4\"},[_vm._v(\"\\n                        School Year\\n                    \")]),_vm._v(\" \"),_c('div',{staticClass:\"col-8 flex px0\"},[_c('div',{staticClass:\"col-6\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.st),expression:\"st\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.st)},on:{\"change\":_vm.update_period,\"input\":function($event){if($event.target.composing){ return; }_vm.st=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"col-6\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.ed),expression:\"ed\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"readonly\":\"\"},domProps:{\"value\":(_vm.ed)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.ed=$event.target.value}}})])])]),_vm._v(\" \"),(_vm.new_asset==false)?_c('div',{staticClass:\"col-12 flex px0\"},[_c('div',{staticClass:\"col-4\"},[_vm._v(\"\\n                        Asset Category\\n                    \")]),_vm._v(\" \"),_c('div',{staticClass:\"col-8\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.asset_cat),expression:\"asset_cat\"}],staticClass:\"form-control select\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.asset_cat=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_vm._l((_vm.asset_list),function(a){return _c('option',{domProps:{\"value\":a.code}},[_vm._v(_vm._s(a.name))])}),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"new_asset_cat\"}},[_vm._v(\"New Asset Category\")])],2)])]):_vm._e(),_vm._v(\" \"),(_vm.new_asset)?_c('div',{staticClass:\"col-12 flex px0\"},[_c('div',{staticClass:\"col-4\"},[_vm._v(\"\\n                        Asset Category\\n                    \")]),_vm._v(\" \"),_c('div',{staticClass:\"col-8\"},[_vm._v(\"\\n                        New Asset Category\\n                    \")])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"col-12 flex px0\"},[_c('div',{staticClass:\"col-4\"},[_vm._v(\"\\n                        Description\\n                    \")]),_vm._v(\" \"),_c('div',{staticClass:\"col-8\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.description),expression:\"description\"}],staticClass:\"form-control\",staticStyle:{\"resize\":\"none\"},attrs:{\"rows\":\"2\",\"cols\":\"80\",\"maxlength\":\"160\",\"placeholder\":\"Enter Description\",\"required\":\"\"},domProps:{\"value\":(_vm.description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.description=$event.target.value}}})])]),_vm._v(\" \"),_vm._m(2),_vm._v(\" \"),_c('div',{staticClass:\"col-12 flex px0\"},[_c('div',{staticClass:\"col-4\"},[_vm._v(\"\\n                        Unit Cost\\n                    \")]),_vm._v(\" \"),_c('div',{staticClass:\"col-8\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.unit_cost),expression:\"unit_cost\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"step\":\"0.01\",\"min\":\"0.01\",\"required\":\"\"},domProps:{\"value\":(_vm.unit_cost)},on:{\"change\":function($event){return _vm.calculate('unit')},\"input\":function($event){if($event.target.composing){ return; }_vm.unit_cost=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"col-12 flex px0\"},[_c('div',{staticClass:\"col-4\"},[_vm._v(\"\\n                        Quantity\\n                    \")]),_vm._v(\" \"),_c('div',{staticClass:\"col-8\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.quantity),expression:\"quantity\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"step\":\"1\",\"min\":\"1\",\"required\":\"\"},domProps:{\"value\":(_vm.quantity)},on:{\"change\":function($event){return _vm.calculate('quantity')},\"input\":function($event){if($event.target.composing){ return; }_vm.quantity=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"col-12 flex px0\"},[_c('div',{staticClass:\"col-4\"},[_vm._v(\"\\n                        Total Amount\\n                    \")]),_vm._v(\" \"),_c('div',{staticClass:\"col-8\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.total_cost),expression:\"total_cost\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"step\":\"0.01\",\"min\":\"0.01\",\"required\":\"\"},domProps:{\"value\":(_vm.total_cost)},on:{\"change\":function($event){return _vm.calculate('total')},\"input\":function($event){if($event.target.composing){ return; }_vm.total_cost=$event.target.value}}})])]),_vm._v(\" \"),_vm._m(3),_vm._v(\" \"),_vm._l((_vm.counter),function(c){return _c('div',{staticClass:\"col-12 flex px0\"},[_c('div',{staticClass:\"col-3\"},[_vm._v(\"\\n                        Fund Source \"+_vm._s(c)+\"\\n                    \")]),_vm._v(\" \"),_c('div',{staticClass:\"col-1\",staticStyle:{\"text-align\":\"right\",\"padding-top\":\"0.3rem\"}},[(c==1)?_c('i',{staticClass:\"fa fa-plus\",attrs:{\"aria-hidden\":\"true\"},on:{\"click\":_vm.add_item}}):_vm._e(),_vm._v(\" \"),(c>1)?_c('i',{staticClass:\"fa fa-minus\",attrs:{\"aria-hidden\":\"true\"},on:{\"click\":_vm.remove_item}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"col-8 flex px0\"},[_c('div',{staticClass:\"col-6\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.fundsrc[c-1]),expression:\"fundsrc[c-1]\"}],staticClass:\"form-control select\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.fundsrc, c-1, $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.fundlist),function(f){return _c('option',[_vm._v(_vm._s(f.name))])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"col-6\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.cost[c-1]),expression:\"cost[c-1]\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"step\":\"0.01\",\"min\":\"0.01\",\"required\":\"\"},domProps:{\"value\":(_vm.cost[c-1])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.cost, c-1, $event.target.value)}}})])])])})],2),_vm._v(\" \"),_c('div',{staticClass:\"card-footer\"},[_c('button',{staticClass:\"btn btn-primary btn-sm\",attrs:{\"type\":\"submit\",\"disabled\":_vm.processing}},[_c('i',{staticClass:\"fa fa-paper-plane\"}),_vm._v(\" Submit\\n                \")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-danger btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.return_prev}},[_c('i',{staticClass:\"fa fa-undo\"}),_vm._v(\" Return\\n                \")])])])])]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(\"Draft Budget Plan\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12\"},[_c('label',[_c('b',[_c('u',[_vm._v(\"Section 1. General Information\")])])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12\"},[_c('label',[_c('b',[_c('u',[_vm._v(\"Section 2. Budget Information\")])])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12\"},[_c('label',[_c('b',[_c('u',[_vm._v(\"Section 3. Details\")])])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2621bd8f\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/Procurement/budget/create_bp.vue\n// module id = 1428\n// module chunks = 91","function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader?minimize!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2621bd8f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./create_bp.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./create_bp.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./create_bp.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2621bd8f\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./create_bp.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2621bd8f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Procurement/budget/create_bp.vue\n// module id = 316\n// module chunks = 91"],"sourceRoot":""}