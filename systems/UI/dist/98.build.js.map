{"version":3,"sources":["webpack:///src/subsitude/admin/settings.vue","webpack:///./src/subsitude/admin/settings.vue?994e","webpack:///./src/subsitude/admin/settings.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kBAoEA;AACA,QADA,kBACA;AACA;AACA,kBADA;AAEA,yBAFA;AAGA,yBAHA;AAIA,0BAJA;AAKA,wBALA;AAMA,mBANA;AAOA,wBAPA;AAQA,2BARA;AASA,sBACA,gDADA,EAEA,wDAFA,EAGA,gDAHA,CATA;AAcA,2BACA,gDADA,EAEA,wDAFA,EAGA,gDAHA,EAIA,gDAJA;AAdA;AAqBA,KAvBA;AAwBA,WAxBA,2BAwBA;AACA;AACA;AACA,KA3BA;AA4BA,WA5BA,2BA4BA,CAEA,CA9BA;;AA+BA;AACA,kBADA,8BACA;AAAA;;AACA,sEACA,IADA,CAEA;AACA;AACA,aAJA;AAMA,SARA;AASA,mBATA,yBASA;AAAA;;AACA;AACA;AACA,+EACA,IADA,CAEA;AACA;AACA;AACA,iBAFA,MAEA;AACA;AACA;AACA;AACA,aATA;AAUA,SAtBA;AAuBA,cAvBA,oBAuBA;AAAA;;AACA;AACA;AACA;AACA,4EACA,IADA,CAEA;AACA;AACA,+CADA,CACA;AACA,iBAFA,MAEA;AACA;AACA;AACA;AACA,aATA;AAWA,SAtCA;AAuCA,eAvCA,qBAuCA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8EACA,IADA,CAEA;AACA;AACA,+CADA,CACA;AACA,iBAFA,MAEA;AACA;AACA;AACA;AACA,aATA;AAWA,SA1DA;AA2DA,oBA3DA,0BA2DA;AACA;AACA;AA7DA;AA/BA,C;;;;;;;;ACpEA,0BAA0B,aAAa,0BAA0B,wBAAwB,uCAAuC,iCAAiC,yBAAyB,cAAc,aAAa,gEAAgE,oCAAoC,+CAA+C,WAAW,kBAAkB,KAAK,iDAAiD,4BAA4B,QAAQ,EAAE,8BAA8B,wCAAwC,oBAAoB,qBAAqB,iCAAiC,oEAAoE,sBAAsB,+BAA+B,yBAAyB,OAAO,6BAA6B,KAAK,yBAAyB,wBAAwB,6BAA6B,wIAAwI,wBAAwB,iCAAiC,uCAAuC,wCAAwC,YAAY,sCAAsC,6DAA6D,+BAA+B,yBAAyB,kCAAkC,iCAAiC,wCAAwC,eAAe,aAAa,gEAAgE,wCAAwC,0BAA0B,kFAAkF,kBAAkB,kBAAkB,6CAA6C,WAAW,EAAE,qEAAqE,wBAAwB,wCAAwC,2DAA2D,oBAAoB,uDAAuD,iCAAiC,wCAAwC,eAAe,aAAa,kEAAkE,wCAAwC,0BAA0B,kFAAkF,kBAAkB,kBAAkB,6CAA6C,WAAW,EAAE,sEAAsE,eAAe,OAAO,iBAAiB,6CAA6C,OAAO,cAAc,sDAAsD,OAAO,cAAc,2DAA2D,OAAO,cAAc,4DAA4D,OAAO,gBAAgB,oFAAoF,oBAAoB,qBAAqB,iCAAiC,0EAA0E,sBAAsB,+BAA+B,yBAAyB,OAAO,6BAA6B,KAAK,yBAAyB,wBAAwB,4BAA4B,kMAAkM,yBAAyB;AACl7G,oCAAoC,aAAa,0BAA0B,wBAAwB,iBAAiB,iCAAiC,+DAA+D,iCAAiC,cAAc,aAAa,0BAA0B,wBAAwB,iBAAiB,iCAAiC,gEAAgE,iCAAiC;AACrd,iBAAiB;AACF,kE;;;;;;;;ACHf;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAyB,mBAAO,CAAC,CAA4D;AAC7F;AAC+G;AACa;AAC5H;AAC+P;AAC/P;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,2HAAc;AAChB,EAAE,iOAAgB;AAClB;AACA;AACA;AACA;AACA;;AAEe,gFAAiB","file":"98.build.js","sourcesContent":["<template>\r\n    <div v-if=\"ready\">\r\n        <div class=\"col-8\" style='padding-bottom:1rem'>\r\n            <input type=\"text\" v-model=\"key\" class=\"form-control\" placeholder=\"Search User Name\" @keyup=\"search_user\"/>\r\n        </div>\r\n        <div class='col-8' v-if=\"hv_user\">\r\n                <v-data-table\r\n                :headers=\"headers\"\r\n                :items=\"userdata\"\r\n                class=\"elevation-1\"\r\n                :rows-per-page-items=\"10\"\r\n                >\r\n                <template v-slot:items=\"props\">\r\n                    <td><a href=\"\" :id= props.item.id v-on:click.prevent=\"adduser($event)\">Add</a></td>\r\n                    <td>{{ props.item.username }}</td>\r\n                    <td>{{ props.item.name }}</td>\r\n                <template v-slot:pageText=\"props\">\r\n                    Items {{ props.pageStart }} - {{ props.pageStop }} out of {{ props.itemsLength }}\r\n                </template>        \r\n                </template>\r\n                </v-data-table><br/>\r\n                <div class=\"flex col-12\" style='padding-left:0;padding-right:0'>\r\n                    <div class='flex col-4' style='margin-left:auto;padding-left:0;padding-right:0'>\r\n                        <div class=\"col-4 flex\" v-if=\"rank=='half'\">\r\n                            <div class=\"col-5\" style='padding-left:0;padding-right:0;margin-top:0.35rem'><label>Off:</label></div>\r\n                            <div class=\"col-7\" style='padding-left:0;padding-right:0;'>\r\n                                <select class='form-control select' v-model=\"off\">\r\n                                    <option v-for=\"i in 6\">{{ i }}</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-4\" v-if=\"rank!='half'\"></div>\r\n                        <div class=\"col-3\" style='padding-left:0;padding-right:0;padding-top:0.35rem'>\r\n                            <label>Rank</label>\r\n                        </div>\r\n                        <div class=\"col-5\" style='padding-left:0;padding-right:0'>\r\n                            <select class=\"form-control select\" v-model=\"rank\">\r\n                                <option value='Admin'>Admin</option>\r\n                                <option value='vp'>Vice Principal</option>\r\n                                <option value='ap'>Assistant Principal</option>\r\n                                <option value='dc'>Discipline Committee</option>\r\n                                <option value='half'>Half-post Teacher</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div><br/>\r\n            </div>\r\n        <div class=\"col-8\">\r\n            <v-data-table\r\n                :headers=\"headers_data\"\r\n                :items=\"auth_data\"\r\n                class=\"elevation-1\"\r\n                :rows-per-page-items=\"10\"\r\n                >\r\n                <template v-slot:items=\"props\">\r\n                    <td><a href=\"\" :id= props.item.id v-on:click.prevent=\"remove($event)\">Remove</a></td>\r\n                    <td>{{ props.item.username }}</td>\r\n                    <td>{{ props.item.name }}</td>\r\n                    <td>{{ props.item.rank }}</td>\r\n                <template v-slot:pageText=\"props\">\r\n                    Items {{ props.pageStart }} - {{ props.pageStop }} out of {{ props.itemsLength }}\r\n                </template>        \r\n                </template>\r\n                </v-data-table>\r\n        </div>\r\n    </div>    \r\n</template>\r\n<script>\r\nexport default {\r\n    data(){\r\n        return{\r\n            off:1,\r\n            auth_data:[],\r\n            rank:'Admin',\r\n            hv_user:false,\r\n            userdata:[],\r\n            key:'',\r\n            ready:false,\r\n            show_res:false,\r\n            headers:[\r\n                { text: 'Action',value :'id',sortable: false},\r\n                { text: 'Username',value:'username',sortable: false},\r\n                { text: 'Name',value:'Name',sortable: false},\r\n            ],\r\n            headers_data:[\r\n                { text: 'Action',value :'id',sortable: false},\r\n                { text: 'Username',value:'username',sortable: false},\r\n                { text: 'Name',value:'Name',sortable: false},\r\n                { text: 'Rank',value:'rank',sortable: false},\r\n            ]\r\n        }\r\n    },   \r\n    async created(){\r\n        await this.fetch_auth();\r\n        this.ready = true;\r\n    },\r\n    async mounted(){\r\n        \r\n    },\r\n    methods:{\r\n        async fetch_auth(){\r\n            await axios.get('subsitude/admin/backend/fetch_auth.php')\r\n                .then(\r\n                    (response)=>{\r\n                        this.auth_data = response.data;\r\n                    }\r\n                )\r\n        },\r\n        search_user(){\r\n            var formData = new FormData();\r\n            formData.append('key',this.key);\r\n            axios.post('RequestPortal/backend/search_user_list.php',formData)\r\n            .then(\r\n                (response)=>{\r\n                    if(response.data == \"Empty\"){\r\n                       this.hv_user=false; \r\n                    } else {\r\n                        this.userdata = response.data;\r\n                        this.hv_user=true;\r\n                    }\r\n                }); \r\n        },\r\n        remove(){\r\n            var targetID = event.currentTarget.id;\r\n            var formData = new FormData();\r\n            formData.append('id',targetID);\r\n            axios.post('subsitude/admin/backend/remove_auth.php',formData)\r\n                .then(\r\n                    (response)=>{\r\n                        if(response.data!='OK'){\r\n                            console.log(response.data); //console log error\r\n                        } else {\r\n                            this.fetch_auth();\r\n                            this.$forceUpdate();\r\n                        }\r\n                    }\r\n                )\r\n        },\r\n        adduser(){\r\n            var targetID = event.currentTarget.id;\r\n            var formData = new FormData();\r\n            formData.append('id',targetID);\r\n            formData.append('rank',this.rank);\r\n            if(this.rank=='half'){\r\n                formData.append('off',this.off);\r\n            }\r\n            axios.post('subsitude/admin/backend/add_user_auth.php',formData)\r\n                .then(\r\n                    (response)=>{\r\n                        if(response.data!='OK'){\r\n                            console.log(response.data);  //console log error\r\n                        } else {\r\n                            this.fetch_auth();\r\n                            this.$forceUpdate();\r\n                        }\r\n                    }\r\n                )\r\n        },\r\n        handleSubmit(){\r\n            var formData = new FormData();\r\n        }\r\n    }\r\n}\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/subsitude/admin/settings.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.ready)?_c('div',[_c('div',{staticClass:\"col-8\",staticStyle:{\"padding-bottom\":\"1rem\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.key),expression:\"key\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"Search User Name\"},domProps:{\"value\":(_vm.key)},on:{\"keyup\":_vm.search_user,\"input\":function($event){if($event.target.composing){ return; }_vm.key=$event.target.value}}})]),_vm._v(\" \"),(_vm.hv_user)?_c('div',{staticClass:\"col-8\"},[_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.userdata,\"rows-per-page-items\":10},scopedSlots:_vm._u([{key:\"items\",fn:function(props){return [_c('td',[_c('a',{attrs:{\"href\":\"\",\"id\":props.item.id},on:{\"click\":function($event){$event.preventDefault();return _vm.adduser($event)}}},[_vm._v(\"Add\")])]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(props.item.username))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(props.item.name))])]}}],null,false,584734274)}),_c('br'),_vm._v(\" \"),_c('div',{staticClass:\"flex col-12\",staticStyle:{\"padding-left\":\"0\",\"padding-right\":\"0\"}},[_c('div',{staticClass:\"flex col-4\",staticStyle:{\"margin-left\":\"auto\",\"padding-left\":\"0\",\"padding-right\":\"0\"}},[(_vm.rank=='half')?_c('div',{staticClass:\"col-4 flex\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"col-7\",staticStyle:{\"padding-left\":\"0\",\"padding-right\":\"0\"}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.off),expression:\"off\"}],staticClass:\"form-control select\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.off=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((6),function(i){return _c('option',[_vm._v(_vm._s(i))])}),0)])]):_vm._e(),_vm._v(\" \"),(_vm.rank!='half')?_c('div',{staticClass:\"col-4\"}):_vm._e(),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"col-5\",staticStyle:{\"padding-left\":\"0\",\"padding-right\":\"0\"}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.rank),expression:\"rank\"}],staticClass:\"form-control select\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.rank=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"Admin\"}},[_vm._v(\"Admin\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"vp\"}},[_vm._v(\"Vice Principal\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"ap\"}},[_vm._v(\"Assistant Principal\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"dc\"}},[_vm._v(\"Discipline Committee\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"half\"}},[_vm._v(\"Half-post Teacher\")])])])])]),_c('br')],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"col-8\"},[_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers_data,\"items\":_vm.auth_data,\"rows-per-page-items\":10},scopedSlots:_vm._u([{key:\"items\",fn:function(props){return [_c('td',[_c('a',{attrs:{\"href\":\"\",\"id\":props.item.id},on:{\"click\":function($event){$event.preventDefault();return _vm.remove($event)}}},[_vm._v(\"Remove\")])]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(props.item.username))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(props.item.name))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(props.item.rank))])]}}],null,false,1425043508)})],1)]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-5\",staticStyle:{\"padding-left\":\"0\",\"padding-right\":\"0\",\"margin-top\":\"0.35rem\"}},[_c('label',[_vm._v(\"Off:\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-3\",staticStyle:{\"padding-left\":\"0\",\"padding-right\":\"0\",\"padding-top\":\"0.35rem\"}},[_c('label',[_vm._v(\"Rank\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-90831e0e\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/subsitude/admin/settings.vue\n// module id = 1579\n// module chunks = 98","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./settings.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./settings.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-90831e0e\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./settings.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/subsitude/admin/settings.vue\n// module id = 370\n// module chunks = 98"],"sourceRoot":""}