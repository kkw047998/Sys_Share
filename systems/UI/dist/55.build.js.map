{"version":3,"sources":["webpack:///src/Procurement/wrapper/form_view.vue","webpack:///./src/Procurement/wrapper/form_view.vue?ad55","webpack:///./src/Procurement/wrapper/form_view.vue?0798","webpack:///./src/Procurement/wrapper/form_view.vue?ca82","webpack:///./src/Procurement/wrapper/form_view.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kBAsGA;AACA,QADA,kBACA;AACA;AACA,yBADA;AAEA,qBAFA;AAGA,qBAHA;AAIA,6BAJA;AAKA,6BALA;AAMA,+BANA;AAOA,4BAPA;AAQA,yBARA;AASA,yBATA;AAUA,kBAVA;AAWA,kBAXA;AAYA;AACA,uBAbA;AAcA;AACA,uBAfA;AAgBA,uBAhBA;AAiBA,qCAjBA;AAkBA,mBAlBA;AAmBA,sBAnBA;AAoBA,wBApBA;AAqBA;AArBA;AAuBA,KAzBA;AA0BA,WA1BA,2BA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAtCA;;AAuCA;AACA,gBADA,sBACA;AACA;AACA,SAHA;AAIA,gBAJA,sBAIA;AACA;AACA;AACA;AACA,SARA;AASA,gBATA,sBASA;AACA;AACA;AACA;AACA,SAbA;AAcA,mBAdA,yBAcA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA,SApBA;AAqBA,wBArBA,oCAqBA;AAAA;;AACA;AACA;AACA;AACA;AACA,sFACA,IADA,CAEA;AACA;AACA;AACA,iBAFA,MAEA;AACA;AACA;AACA,aARA;AAUA,SApCA;AAqCA,uBArCA,mCAqCA;AAAA;;AACA;AACA;AACA,qFACA,IADA,CAEA;AACA;AACA;AACA,iBAFA,MAEA;AACA;AACA;AACA,aARA;AAUA,SAlDA;AAmDA,iBAnDA,uBAmDA;AACA;AACA,SArDA;AAsDA,iBAtDA,uBAsDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA,SAhEA;AAiEA,kBAjEA,8BAiEA;AAAA;;AACA;AACA;AACA;AACA,qFACA,IADA,CAEA;AACA;AACA;AACA;AACA;AACA,qBAFA,MAEA;AACA;AACA;AACA,iBAPA,MAOA;AACA;AACA;AACA;AACA,qBAFA,MAEA;AACA;AACA;AACA;AACA,aAlBA;AAoBA,SAzFA;AA0FA,iBA1FA,6BA0FA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oFACA,IADA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAHA,MAGA;AACA;AACA;AACA,6BAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aA9BA;AAgCA,SArIA;AAsIA,oBAtIA,wBAsIA,IAtIA,EAsIA;AAAA;;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qFACA,IADA,CAEA;AACA,sDACA;AACA;AACA,qBAHA;AAMA,iBATA;AAWA;AACA,SA5JA;AA6JA,mBA7JA,uBA6JA,IA7JA,EA6JA;AAAA;;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA;AACA,mFACA,IADA,CAEA;AACA;AACA;AACA;AACA,yBAFA,MAEA;AACA;AACA;AACA,qBANA,MAMA;AACA;AACA;AACA,iBAZA;AAcA;AACA,SApLA;AAqLA,cArLA,kBAqLA,IArLA,EAqLA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA,SA3LA;AA4LA,gBA5LA,4BA4LA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA,SAnMA;AAoMA,qBApMA,iCAoMA;AAAA;;AACA;AACA;AACA,oFACA,IADA,CAEA;AACA;AACA;AACA;AACA,iBAHA,MAGA;AACA;AACA;AACA;AACA;AACA,aAXA;AAaA,SApNA;AAqNA,sBArNA,kCAqNA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA,qFACA,IADA,CAEA;AACA;AACA;AACA;AACA,iBAHA,MAGA;AACA;AACA;AACA;AACA;AACA,aAXA;AAaA,SAxOA;AAyOA,YAzOA,wBAyOA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA,SAhPA;AAiPA,iBAjPA,6BAiPA;AAAA;;AACA;AACA;AACA,oFACA,IADA,CAEA;AACA;AACA;AACA;AACA,iBAHA,MAGA;AACA;AACA;AACA;AACA;AACA,aAXA;AAaA,SAjQA;AAkQA,kBAlQA,8BAkQA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA,qFACA,IADA,CAEA;AACA;AACA;AACA;AACA,iBAHA,MAGA;AACA;AACA;AACA;AACA;AACA,aAXA;AAaA,SArRA;AAsRA,mBAtRA,yBAsRA;AACA;AACA;AAxRA;AAvCA,C;;;;;;;ACtGA;;AAEA;AACA,cAAc,mBAAO,CAAC,IAA4R;AAClT,4CAA4C,QAAS;AACrD;AACA;AACA,aAAa,mBAAO,CAAC,CAAgE,+BAA+B,E;;;;;;;ACPpH,2BAA2B,mBAAO,CAAC,CAAkD;AACrF;;;AAGA;AACA,cAAc,QAAS,0BAA0B,aAAa,mBAAmB,gCAAgC,sBAAsB,UAAU,sBAAsB,+BAA+B,kBAAkB,gBAAgB,UAAU,8DAA8D,sBAAsB,WAAW,4BAA4B,wBAAwB,UAAU,sBAAsB,eAAe,gBAAgB,sBAAsB,sBAAsB,kCAAkC,gCAAgC,0BAA0B,wCAAwC,WAAW;;AAE/nB;;;;;;;;;ACPA,0BAA0B,aAAa,0BAA0B,wBAAwB,6BAA6B,kCAAkC,wCAAwC,YAAY,gCAAgC,0BAA0B,YAAY,0BAA0B,uHAAuH,mCAAmC,YAAY,uCAAuC,wCAAwC,YAAY,iCAAiC,oBAAoB,YAAY,mCAAmC,YAAY,kCAAkC,YAAY,wCAAwC,qBAAqB,eAAe,sCAAsC,mBAAmB,gCAAgC,iCAAiC,2CAA2C,4BAA4B,kCAAkC,YAAY,2BAA2B,YAAY,6BAA6B,YAAY,2BAA2B,yBAAyB,wBAAwB,UAAU,iCAAiC,0BAA0B,wBAAwB,oKAAoK,2BAA2B,yBAAyB,wBAAwB,UAAU,kCAAkC,yCAAyC,6BAA6B,yBAAyB,wBAAwB,UAAU,6BAA6B,iDAAiD,yBAAyB,mCAAmC,2BAA2B,eAAe,sCAAsC,6BAA6B,kDAAkD,+BAA+B,YAAY,0BAA0B,YAAY,mBAAmB,wLAAwL,8CAA8C,uFAAuF,QAAQ,qBAAqB,KAAK,yBAAyB,wBAAwB,4BAA4B,mCAAmC,iBAAiB,aAAa,sEAAsE,oCAAoC,8BAA8B,WAAW,qBAAqB,KAAK,yBAAyB,4BAA4B,QAAQ,EAAE,iCAAiC,0BAA0B,uCAAuC,0CAA0C,eAAe,4CAA4C,gBAAgB,KAAK,yBAAyB,uBAAuB,UAAU,gCAAgC,gHAAgH,2CAA2C,gBAAgB,KAAK,yBAAyB,uBAAuB,UAAU,wBAAwB,sGAAsG,0BAA0B,YAAY,mBAAmB,sCAAsC,iDAAiD,sBAAsB,QAAQ,gBAAgB,KAAK,sBAAsB,UAAU,+BAA+B,oGAAoG,kDAAkD,qBAAqB,QAAQ,gBAAgB,KAAK,kBAAkB,2DAA2D,gCAAgC,qCAAqC,aAAa,sBAAsB,eAAe,iDAAiD,sBAAsB,QAAQ,gBAAgB,KAAK,yBAAyB,UAAU,yBAAyB,qEAAqE,4CAA4C,gBAAgB,KAAK,uBAAuB,UAAU,0BAA0B;AAC/4I;AACA,iBAAiB;AACF,kE;;;;;;;;ACHf;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,EAAE,mBAAO,CAAC,IAAwQ;AAClR;AACA,yBAAyB,mBAAO,CAAC,CAA4D;AAC7F;AACgH;AACa;AAC7H;AAC+P;AAC/P;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,4HAAc;AAChB,EAAE,iOAAgB;AAClB;AACA;AACA;AACA;AACA;;AAEe,gFAAiB","file":"55.build.js","sourcesContent":["<template>\r\n    <div v-if=\"ready\" class=\"col-12\" style='padding-left:0;padding-right:0'>\r\n        <div class=\"card\" style='margin-bottom:0.4rem'>\r\n            <div class=\"card-header\">\r\n                <strong>View {{doc_type}} Record {{ tag.toUpperCase() }}</strong>\r\n            </div>            \r\n            <div class=\"card-body card-block\">\r\n                <div class=\"col-12 flex\" style='padding-left:0;padding-right:0'>\r\n                    <div class=\"col-6\" style='padding-left:0'>\r\n                        <div class=\"col-12 inner_wrapper\">                  \r\n                            <div class='col-12 framewrapper'>   \r\n                                <div class=\"scroll_frame\" style='overflow: hidden;'>                  \r\n                                    <iframe :src=\"doc_url\" class='col-12 ios_frame'/>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-6\" style='padding-right:0;position:relative'>\r\n                        <div v-if=\"pdf_ready\" class='col-12 framewrapper'>   \r\n                            <div class='frame_header'>\r\n                                <div class='page_indicator'>\r\n                                    <div class='prev_pdf' @click=\"prev_pdf()\">\r\n                                        <i class=\"fa fa-chevron-left\"></i>\r\n                                    </div>\r\n                                    <div class='pages_pdf'>\r\n                                        {{ pdf_pg+1 }} / {{ pages.length }}\r\n                                    </div>\r\n                                    <div class='next_pdf' @click=\"next_pdf()\">\r\n                                        <i class=\"fa fa-chevron-right\"></i>\r\n                                    </div>\r\n                                </div>\r\n                                <div v-if=\"isHead\" class='msg_toggle' @click=\"open_msg()\">\r\n                                    <i class=\"fa fa-comments\"></i>\r\n                                </div>\r\n                                <div v-if=\"!isHead\" class='msg_toggle'>\r\n                                    \r\n                                </div>\r\n                            </div>\r\n                            <div class=\"scroll_frame\">       \r\n                                <iframe :src=\"pages[pdf_pg]\" class='col-12 ios_frame'/> \r\n                            </div>\r\n                            <!--\r\n                            <div class=\"scroll_frame\">       \r\n                                <iframe v-if=\"hv_support\" :src=\"support_doc_url\" class='col-12 ios_frame'/>\r\n                                <iframe v-for=\"n in pdf_length\" :src=\"pdf_url[n-1]\" class='col-12 ios_frame'/> \r\n                            </div>\r\n                            -->\r\n                        </div>\r\n                        <!--\r\n                        <div v-if=\"(!isHead)&&(pdf_ready)\" class='col-12 framewrapper'>   \r\n                            <div class=\"scroll_frame\">                  \r\n                                <iframe v-if=\"hv_support\" :src=\"support_doc_url\" class='col-12 ios_frame pdf'/>\r\n                                <iframe v-for=\"n in pdf_length\" :src=\"pdf_url[n-1]\" class='col-12 ios_frame'/>    \r\n                            </div>\r\n                        </div>-->\r\n                        <div class=\"card overlay_box\" v-if=\"msgbox\">\r\n                            <div class=\"card-header\">\r\n                                <div class='flex'>\r\n                                    <strong v-if=\"rejectable&&isHead\">Message / Reason of Rejection </strong>\r\n                                    <strong v-if=\"!isHead\">Message</strong>\r\n                                    <i class=\"fa fa-window-close\" aria-hidden=\"true\" style='margin-left:auto;margin-top:0.25rem;margin-right:0.5rem;cursor:pointer' @click=\"open_msg()\"></i>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"card-body card-block\">\r\n                                <textarea v-model=\"reason\" placeholder=\"Enter Message\" class=\"form-control\"></textarea>\r\n                            </div>\r\n                            <div class=\"card-footer\" style='padding-top:0;padding-bottom:4px'>\r\n                                <button type=\"button\" class=\"btn btn-primary btn-sm\" @click=\"reject(0)\">\r\n                                    <i class=\"fa fa-paper-plane\"></i> Send Message\r\n                                </button>\r\n                                <button v-if=\"isHead&&rejectable\" type=\"button\" class=\"btn btn-danger btn-sm\" @click=\"reject(1)\">\r\n                                    <i class=\"fa fa-ban\"></i> Reject\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"card-footer\">\r\n                <div class=\"flex\">\r\n                    <div>\r\n                        <button v-if=\"isHead\" type=\"button\" class=\"btn btn-danger btn-sm\" style='margin-right:1rem' @click=\"previous\">\r\n                            <i class=\"fa fa-arrow-left\"></i> Previous Record\r\n                        </button>\r\n                        <button v-if=\"isHead\" type=\"button\" class=\"btn btn-primary btn-sm\" style='margin-left:1rem' @click=\"next\">\r\n                            Next Record <i class=\"fa fa-arrow-right\"></i>\r\n                        </button>   \r\n                    </div> \r\n                    <div style='margin-left:auto'>                      \r\n                        <button type=\"button\" class=\"btn btn-danger btn-sm\" style='margin-right:1rem' @click=\"return_prev\">\r\n                            <i class=\"fa fa-undo\"></i> Return\r\n                        </button>\r\n                        <button type=\"button\" class=\"btn btn-primary btn-sm\" @click=\"open_form\">\r\n                            <i class=\"fa fa-print\"></i> Print \r\n                        </button>\r\n                    </div>                                   \r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>    \r\n</template>\r\n<script>\r\nexport default {\r\n    data(){\r\n        return{\r\n            msgbox:false,\r\n            pages:[],\r\n            pdf_pg:0,\r\n            rejectable:false,\r\n            hv_support:false,\r\n            support_doc_url:'',\r\n            pdf_ready:false,\r\n            pdf_length:0,\r\n            isHead:false,\r\n            st:'',\r\n            ed:'',\r\n            //baseURL:'https://s-g301-d009.munsang.edu.hk/portal_vue/UI/src',\r\n            baseURL:'',\r\n            //baseURL:'https://s-web-s033.munsang.edu.hk/src',\r\n            doc_url:'',\r\n            pdf_url:[],\r\n            doc_type:'Reimbursement',\r\n            tag:'',\r\n            reason:'',\r\n            ready:false,\r\n            return:'',\r\n        }\r\n    },\r\n    async created(){\r\n        var protocol = location.protocol;\r\n        var slashes = protocol.concat(\"//\");\r\n        var host = slashes.concat(window.location.hostname);\r\n        //var src = host+'/portal_vue/UI/src';\r\n        var src = host+'/systems/UI/src';\r\n        this.baseURL = src;\r\n        await this.load_info();\r\n        await this.check_state();\r\n        await this.fetch_pdf();\r\n        await this.permission();\r\n        this.ready=true;\r\n    },\r\n    methods:{\r\n        open_msg(){\r\n            this.msgbox = !this.msgbox;\r\n        },\r\n        prev_pdf(){\r\n            if(this.pdf_pg>0){\r\n                this.pdf_pg--;\r\n            }\r\n        },\r\n        next_pdf(){\r\n            if(this.pdf_pg<this.pages.length-1){\r\n                this.pdf_pg++;\r\n            }\r\n        },\r\n        check_state(){\r\n            if(this.doc_type=='Reimbursement'){\r\n                this.check_reimb_stat();\r\n            } else {\r\n                this.check_proc_stat();\r\n            }\r\n        },\r\n        async check_reimb_stat(){\r\n            var formData = new FormData();\r\n            formData.append('tag',this.tag);\r\n            formData.append('st',this.st);\r\n            formData.append('ed',this.ed);\r\n            await axios.post('Procurement/wrapper/backend/check_reimb.php',formData)\r\n                .then(\r\n                    (response)=>{\r\n                        if(response.data=='enable'){\r\n                            this.rejectable = true;\r\n                        } else {\r\n                            this.rejectable = false;\r\n                        }\r\n                    }\r\n                )\r\n        },\r\n        async check_proc_stat(){\r\n            var formData = new FormData();\r\n            formData.append('tag',this.tag);\r\n            await axios.post('Procurement/wrapper/backend/check_proc.php',formData)\r\n                .then(\r\n                    (response)=>{\r\n                        if(response.data=='enable'){\r\n                            this.rejectable = true;\r\n                        } else {\r\n                            this.rejectable = false;\r\n                        }\r\n                    }\r\n                )\r\n        },\r\n        open_form(){\r\n            window.open(this.doc_url);\r\n        },\r\n        load_info(){\r\n            this.tag = document.getElementById('tmp_id').value;\r\n            this.doc_type = document.getElementById('doc_type').value;\r\n            this.st = document.getElementById('st_tmp').value;\r\n            this.ed = document.getElementById('ed_tmp').value;\r\n            if(this.doc_type=='Reimbursement'){\r\n                this.doc_url = this.baseURL+'/Procurement/reimbursement/backend/view_form_app.php?tag='+this.tag+'&st='+this.st+'&ed='+this.ed;               \r\n            } else {\r\n                this.doc_url = this.baseURL+'/Procurement/procurement/backend/comparision_table.php?p_id='+this.tag;                \r\n            }\r\n        },\r\n        async permission(){\r\n            var formData = new FormData();\r\n            formData.append('tag',this.tag);\r\n            formData.append('type',this.doc_type);\r\n            await axios.post('Procurement/wrapper/backend/permission.php',formData)\r\n                .then(\r\n                    (response)=>{\r\n                        if(response.data=='isHead'){\r\n                            this.isHead = true;\r\n                            if(this.doc_type=='Reimbursement'){\r\n                                this.return = '../reimbursement/reimb_records';\r\n                            } else {\r\n                                this.return = '../procurement/view_proc';\r\n                            }\r\n                        } else {\r\n                            this.isHead = false;\r\n                            if(this.doc_type=='Reimbursement'){\r\n                                this.return = '../reimbursement/reimb_records';\r\n                            } else {\r\n                                this.return = '../procurement/view_proc';\r\n                            }\r\n                        }\r\n                    }\r\n                )\r\n        },\r\n        async fetch_pdf(){\r\n            this.pdf_pg = 0;\r\n            this.pages=[];\r\n            this.pdf_url=[];\r\n            this.pdf_ready=false;\r\n            this.hv_support = false;\r\n            var formData = new FormData();\r\n            formData.append('tag',this.tag);\r\n            formData.append('type',this.doc_type);\r\n            formData.append('st',this.st);\r\n            formData.append('ed',this.ed);\r\n            await axios.post('Procurement/wrapper/backend/fetch_pdf.php',formData)\r\n                .then(\r\n                    (response)=>{\r\n                        if(response.data[0]!='empty'){\r\n                            this.pdf_length = response.data.length-1;                                         \r\n                            var i = 0;\r\n                            for(i=0;i<this.pdf_length;i++){\r\n                                this.pdf_url[i] = this.baseURL+'/Procurement/pdf_files/'+response.data[i];                               \r\n                            }\r\n                            this.pages = this.pages.concat(this.pdf_url);\r\n                            if(response.data[response.data.length-1]!='single'){\r\n                                var max_id = response.data.length;\r\n                                var check_proc = response.data[max_id-1]; \r\n                                var proc_id = check_proc.proc_id;  \r\n                                if(this.doc_type=='Procurement'){\r\n                                    var reimb_id = check_proc.reimb_tag;\r\n                                    this.support_doc_url = this.baseURL+'/Procurement/reimbursement/backend/view_form_app.php?tag='+reimb_id+'&st='+this.st+'&ed='+this.ed; \r\n                                } else {\r\n                                    if(check_proc.category==2){\r\n                                        this.support_doc_url = this.baseURL+'/Procurement/procurement/backend/comparision_table.php?p_id='+proc_id;  \r\n                                    } else {\r\n                                        this.support_doc_url = this.baseURL+'/Procurement/procurement/backend/cat_3_comparision_table.php?p_id='+proc_id;                                        \r\n                                    }\r\n                                }  \r\n                                this.pages = this.pages.concat(this.support_doc_url);                                  \r\n                                this.hv_support = true;\r\n                            }\r\n                            this.$forceUpdate();\r\n                            this.pdf_ready = true;\r\n                        }\r\n                    }\r\n                )\r\n        },\r\n        reject_reimb(mode){\r\n            if(this.reason==''){\r\n                this.$alert('Please Input reject reason');\r\n            } else {\r\n                var formData = new FormData();\r\n                formData.append('tag',this.tag);\r\n                formData.append('st',this.st);\r\n                formData.append('ed',this.ed);\r\n                formData.append('msg',this.reason);\r\n                formData.append('mode',mode);\r\n                axios.post('Procurement/reimbursement/backend/reject.php',formData)\r\n                    .then(\r\n                        (response)=>{\r\n                            this.$alert(response.data).then(\r\n                                ()=>{\r\n                                    this.next();\r\n                                }\r\n                            )\r\n                            \r\n                        }\r\n                    )\r\n            }\r\n        },\r\n        reject_proc(mode){\r\n            if(this.reason==''){\r\n                this.$alert('Please Input reject reason');\r\n            } else {\r\n                var formData = new FormData();\r\n                formData.append('tag',this.tag);\r\n                formData.append('reason',this.reason);\r\n                formData.append('mode',mode);\r\n                axios.post('Procurement/procurement/backend/reject.php',formData)\r\n                    .then(\r\n                        (response)=>{\r\n                            if(response.data=='OK'){\r\n                                if(mode==1){\r\n                                    this.$alert('Successfully rejected record'); \r\n                                } else {\r\n                                    this.$alert('Successfully updated record');\r\n                                }                                 \r\n                            } else {\r\n                                console.log(response.data);\r\n                            }\r\n                        }\r\n                    )\r\n            }\r\n        },\r\n        reject(mode){\r\n            if(this.doc_type=='Reimbursement'){\r\n                this.reject_reimb(mode);\r\n            } else {\r\n                this.reject_proc(mode);\r\n            }\r\n        },\r\n        async previous(){\r\n            if(this.doc_type=='Reimbursement'){\r\n                await this.pervious_reimb();               \r\n            } else {\r\n                await this.previous_proc();\r\n            }\r\n            this.reason = '';\r\n        },\r\n        async previous_proc(){\r\n            var formData = new FormData();\r\n            formData.append('tag',this.tag);\r\n            await axios.post('Procurement/wrapper/backend/prev_proc.php',formData)\r\n                .then(\r\n                    (response)=>{\r\n                        if(response.data=='N/A'){\r\n                            this.$alert(\"No next record,return to previous page\");\r\n                            this.$router.push(this.return);\r\n                        } else {\r\n                            this.tag = response.data;\r\n                            this.doc_url = this.baseURL+'/Procurement/procurement/backend/comparision_table.php?p_id='+this.tag;  \r\n                            this.fetch_pdf();                        \r\n                        }\r\n                    }\r\n                )\r\n        },\r\n        async pervious_reimb(){\r\n            var formData = new FormData();\r\n            formData.append('tag',this.tag);\r\n            formData.append('st',this.st);\r\n            formData.append('ed',this.ed);\r\n            formData.append('isHead',this.isHead);\r\n            await axios.post('Procurement/wrapper/backend/prev_reimb.php',formData)   \r\n                .then(\r\n                    (response)=>{\r\n                        if(response.data=='N/A'){\r\n                            this.$alert(\"No previous record,return to previous page\");\r\n                            this.$router.push(this.return);\r\n                        } else {\r\n                            this.tag = response.data;\r\n                            this.doc_url = this.baseURL+'/Procurement/reimbursement/backend/view_form_app.php?tag='+this.tag+'&st='+this.st+'&ed='+this.ed; \r\n                            this.fetch_pdf();                         \r\n                        }\r\n                    }\r\n                )           \r\n        },\r\n        async next(){\r\n            if(this.doc_type=='Reimbursement'){\r\n                await this.next_reimb();               \r\n            } else{\r\n                await this.next_proc();\r\n            }\r\n            this.reason = '';\r\n        },\r\n        async next_proc(){\r\n            var formData = new FormData();\r\n            formData.append('tag',this.tag);\r\n            await axios.post('Procurement/wrapper/backend/next_proc.php',formData)\r\n                .then(\r\n                    (response)=>{\r\n                        if(response.data=='N/A'){\r\n                            this.$alert(\"No next record,return to endorsement page\");\r\n                            this.$router.push(this.return);\r\n                        } else {\r\n                            this.tag = response.data;\r\n                            this.doc_url = this.baseURL+'/Procurement/procurement/backend/comparision_table.php?p_id='+this.tag;  \r\n                            this.fetch_pdf();                        \r\n                        }\r\n                    }\r\n                )\r\n        },\r\n        async next_reimb(){\r\n            var formData = new FormData();\r\n            formData.append('tag',this.tag);\r\n            formData.append('st',this.st);\r\n            formData.append('ed',this.ed);\r\n            formData.append('isHead',this.isHead);\r\n            await axios.post('Procurement/wrapper/backend/next_reimb.php',formData)   \r\n                .then(\r\n                    (response)=>{\r\n                        if(response.data=='N/A'){\r\n                            this.$alert(\"No next record,return to endorsement page\");\r\n                            this.$router.push(this.return);\r\n                        } else {\r\n                            this.tag = response.data;\r\n                            this.doc_url = this.baseURL+'/Procurement/reimbursement/backend/view_form_app.php?tag='+this.tag+'&st='+this.st+'&ed='+this.ed;  \r\n                            this.fetch_pdf();                        \r\n                        }\r\n                    }\r\n                )           \r\n        },\r\n        return_prev(){\r\n            this.$router.push(this.return);\r\n        }   \r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n.flex{\r\n    display:flex;\r\n    flex-direction:row;\r\n}\r\n.inner_wrapper{\r\n    height:77vh!important;\r\n    padding:0;\r\n    border:1px solid black;\r\n}\r\n.framewrapper{\r\n    position: relative;\r\n    overflow:hidden;\r\n    height:77vh!important;\r\n    padding:0;\r\n    width:100%;\r\n}\r\n.scroll_frame{\r\n    height:77vh!important;\r\n    width:100%;\r\n}\r\n.ios_frame{\r\n    height:76.4vh!important;\r\n    padding:0;\r\n}\r\n.px0{\r\n    padding-left:0;\r\n    padding-right:0;\r\n}\r\n.pdf{\r\n    height:57vh!important;\r\n}\r\n.fa-window-close{\r\n    transition: all 0.15s ease-in-out;\r\n    color:rgba(255, 255, 255, 0.55);\r\n}\r\n.fa-window-close:hover{\r\n    color:rgba(255, 255, 255, 1);\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/Procurement/wrapper/form_view.vue","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-740e8664\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./form_view.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"6856b8ec\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-740e8664\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/Procurement/wrapper/form_view.vue\n// module id = 1549\n// module chunks = 55","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".flex[data-v-740e8664]{display:flex;flex-direction:row}.inner_wrapper[data-v-740e8664]{height:77vh!important;padding:0;border:1px solid #000}.framewrapper[data-v-740e8664]{position:relative;overflow:hidden;padding:0}.framewrapper[data-v-740e8664],.scroll_frame[data-v-740e8664]{height:77vh!important;width:100%}.ios_frame[data-v-740e8664]{height:76.4vh!important;padding:0}.px0[data-v-740e8664]{padding-left:0;padding-right:0}.pdf[data-v-740e8664]{height:57vh!important}.fa-window-close[data-v-740e8664]{transition:all .15s ease-in-out;color:hsla(0,0%,100%,.55)}.fa-window-close[data-v-740e8664]:hover{color:#fff}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-740e8664\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/Procurement/wrapper/form_view.vue\n// module id = 1550\n// module chunks = 55","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.ready)?_c('div',{staticClass:\"col-12\",staticStyle:{\"padding-left\":\"0\",\"padding-right\":\"0\"}},[_c('div',{staticClass:\"card\",staticStyle:{\"margin-bottom\":\"0.4rem\"}},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(\"View \"+_vm._s(_vm.doc_type)+\" Record \"+_vm._s(_vm.tag.toUpperCase()))])]),_vm._v(\" \"),_c('div',{staticClass:\"card-body card-block\"},[_c('div',{staticClass:\"col-12 flex\",staticStyle:{\"padding-left\":\"0\",\"padding-right\":\"0\"}},[_c('div',{staticClass:\"col-6\",staticStyle:{\"padding-left\":\"0\"}},[_c('div',{staticClass:\"col-12 inner_wrapper\"},[_c('div',{staticClass:\"col-12 framewrapper\"},[_c('div',{staticClass:\"scroll_frame\",staticStyle:{\"overflow\":\"hidden\"}},[_c('iframe',{staticClass:\"col-12 ios_frame\",attrs:{\"src\":_vm.doc_url}})])])])]),_vm._v(\" \"),_c('div',{staticClass:\"col-6\",staticStyle:{\"padding-right\":\"0\",\"position\":\"relative\"}},[(_vm.pdf_ready)?_c('div',{staticClass:\"col-12 framewrapper\"},[_c('div',{staticClass:\"frame_header\"},[_c('div',{staticClass:\"page_indicator\"},[_c('div',{staticClass:\"prev_pdf\",on:{\"click\":function($event){return _vm.prev_pdf()}}},[_c('i',{staticClass:\"fa fa-chevron-left\"})]),_vm._v(\" \"),_c('div',{staticClass:\"pages_pdf\"},[_vm._v(\"\\n                                    \"+_vm._s(_vm.pdf_pg+1)+\" / \"+_vm._s(_vm.pages.length)+\"\\n                                \")]),_vm._v(\" \"),_c('div',{staticClass:\"next_pdf\",on:{\"click\":function($event){return _vm.next_pdf()}}},[_c('i',{staticClass:\"fa fa-chevron-right\"})])]),_vm._v(\" \"),(_vm.isHead)?_c('div',{staticClass:\"msg_toggle\",on:{\"click\":function($event){return _vm.open_msg()}}},[_c('i',{staticClass:\"fa fa-comments\"})]):_vm._e(),_vm._v(\" \"),(!_vm.isHead)?_c('div',{staticClass:\"msg_toggle\"}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"scroll_frame\"},[_c('iframe',{staticClass:\"col-12 ios_frame\",attrs:{\"src\":_vm.pages[_vm.pdf_pg]}})])]):_vm._e(),_vm._v(\" \"),(_vm.msgbox)?_c('div',{staticClass:\"card overlay_box\"},[_c('div',{staticClass:\"card-header\"},[_c('div',{staticClass:\"flex\"},[(_vm.rejectable&&_vm.isHead)?_c('strong',[_vm._v(\"Message / Reason of Rejection \")]):_vm._e(),_vm._v(\" \"),(!_vm.isHead)?_c('strong',[_vm._v(\"Message\")]):_vm._e(),_vm._v(\" \"),_c('i',{staticClass:\"fa fa-window-close\",staticStyle:{\"margin-left\":\"auto\",\"margin-top\":\"0.25rem\",\"margin-right\":\"0.5rem\",\"cursor\":\"pointer\"},attrs:{\"aria-hidden\":\"true\"},on:{\"click\":function($event){return _vm.open_msg()}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"card-body card-block\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.reason),expression:\"reason\"}],staticClass:\"form-control\",attrs:{\"placeholder\":\"Enter Message\"},domProps:{\"value\":(_vm.reason)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.reason=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"card-footer\",staticStyle:{\"padding-top\":\"0\",\"padding-bottom\":\"4px\"}},[_c('button',{staticClass:\"btn btn-primary btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.reject(0)}}},[_c('i',{staticClass:\"fa fa-paper-plane\"}),_vm._v(\" Send Message\\n                            \")]),_vm._v(\" \"),(_vm.isHead&&_vm.rejectable)?_c('button',{staticClass:\"btn btn-danger btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.reject(1)}}},[_c('i',{staticClass:\"fa fa-ban\"}),_vm._v(\" Reject\\n                            \")]):_vm._e()])]):_vm._e()])])]),_vm._v(\" \"),_c('div',{staticClass:\"card-footer\"},[_c('div',{staticClass:\"flex\"},[_c('div',[(_vm.isHead)?_c('button',{staticClass:\"btn btn-danger btn-sm\",staticStyle:{\"margin-right\":\"1rem\"},attrs:{\"type\":\"button\"},on:{\"click\":_vm.previous}},[_c('i',{staticClass:\"fa fa-arrow-left\"}),_vm._v(\" Previous Record\\n                    \")]):_vm._e(),_vm._v(\" \"),(_vm.isHead)?_c('button',{staticClass:\"btn btn-primary btn-sm\",staticStyle:{\"margin-left\":\"1rem\"},attrs:{\"type\":\"button\"},on:{\"click\":_vm.next}},[_vm._v(\"\\n                        Next Record \"),_c('i',{staticClass:\"fa fa-arrow-right\"})]):_vm._e()]),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-left\":\"auto\"}},[_c('button',{staticClass:\"btn btn-danger btn-sm\",staticStyle:{\"margin-right\":\"1rem\"},attrs:{\"type\":\"button\"},on:{\"click\":_vm.return_prev}},[_c('i',{staticClass:\"fa fa-undo\"}),_vm._v(\" Return\\n                    \")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-primary btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.open_form}},[_c('i',{staticClass:\"fa fa-print\"}),_vm._v(\" Print \\n                    \")])])])])])]):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-740e8664\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/Procurement/wrapper/form_view.vue\n// module id = 1551\n// module chunks = 55","function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader?minimize!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-740e8664\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./form_view.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./form_view.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./form_view.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-740e8664\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./form_view.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-740e8664\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Procurement/wrapper/form_view.vue\n// module id = 360\n// module chunks = 55"],"sourceRoot":""}