{"version":3,"sources":["webpack:///src/Procurement/admin/locmngt.vue","webpack:///./src/Procurement/admin/locmngt.vue?3a6e","webpack:///./src/Procurement/admin/locmngt.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kBA4BA;AACA,QADA,kBACA;AACA;AACA,wBADA;AAEA,wBAFA;AAGA,sBACA,gDADA,EAEA,wDAFA,CAHA;AAOA,uBAPA;AAQA;AARA;AAUA,KAZA;AAaA,WAbA,2BAaA;AAAA;;AACA,2EACA,IADA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDACA;AACA;AACA,iBAHA;AAKA;AACA,SAfA;AAiBA,mEACA,IADA,CAEA;AACA;AACA;AACA;AACA;AAEA;AACA,SATA;AAWA;AACA,KA3CA;;AA4CA;AACA,cADA,kBACA,QADA,EACA;AAAA;;AACA;AACA;AACA,kFACA,IADA,CAEA;AACA;AACA;AACA;AACA,aANA;AAQA,SAZA;AAaA,iBAbA,uBAaA;AAAA;;AACA;AACA;AACA;AACA,kFACA,IADA,CAEA;AACA;AACA;AACA;AACA,aANA;AAQA,SAzBA;AA0BA,eA1BA,qBA0BA;AAAA;;AACA;AACA;AACA;AACA,+EACA,IADA,CAEA;AACA;AACA;AACA;AACA;AACA,aAPA;AASA;AAvCA;AA5CA,C;;;;;;;;AC5BA,0BAA0B,aAAa,0BAA0B,wBAAwB,6BAA6B,8BAA8B,eAAe,cAAc,aAAa,8CAA8C,wDAAwD,sCAAsC,yCAAyC,cAAc,aAAa,wEAAwE,0CAA0C,eAAe,QAAQ,oDAAoD,WAAW,sBAAsB,KAAK,+CAA+C,4BAA4B,QAAQ,EAAE,kCAAkC,2BAA2B,wCAAwC,mCAAmC,KAAK,yBAAyB,wBAAwB,6BAA6B,sDAAsD,iCAAiC,oEAAoE,sBAAsB,+BAA+B,iBAAiB,aAAa,mBAAmB,KAAK,yBAAyB,mCAAmC,yFAAyF,yBAAyB;AACr1C;AACA,iBAAiB;AACF,kE;;;;;;;;ACHf;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAyB,mBAAO,CAAC,CAA4D;AAC7F;AAC8G;AACa;AAC3H;AAC8P;AAC9P;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,0HAAc;AAChB,EAAE,gOAAgB;AAClB;AACA;AACA;AACA;AACA;;AAEe,gFAAiB","file":"117.build.js","sourcesContent":["<template>\r\n   <div data-app class=\"col-lg-6\" v-if=\"ready\">\r\n        <label style=\"margin-right:0.5em;padding-top:0.3em\">Insert New location</label>\r\n            <div class=\"form-group\" style=\"display:flex;flex-direction:row\">         \r\n            <input type=\"text\" class=\"form-control\" v-model=\"loc_key\" placeholder=\"Search / Add location\" style=\"width:20em\" @keyup=\"searchloc\"/>\r\n            <button class=\"form-control\" v-on:click.prevent=\"add_new($event)\" style=\"margin-left:auto;width:5em\">Insert</button>   \r\n            </div>           \r\n            \r\n            <v-data-table\r\n            :headers=\"headers\"\r\n            :items=\"loc_data\"\r\n            class=\"elevation-1\"\r\n            :rows-per-page-items=\"10\"\r\n            >\r\n            <template v-slot:items=\"props\">\r\n                <tr style=\"cursor:pointer\" @click=\"remove(props.item.id)\">\r\n                    <td>Remove</td>\r\n                    <td>{{ props.item.code }}</td>\r\n                </tr>\r\n            <template v-slot:pageText=\"props\">\r\n                Items {{ props.pageStart }} - {{ props.pageStop }} out of {{ props.itemsLength }}\r\n            </template>        \r\n            </template>\r\n            </v-data-table><br/>\r\n            <!--member--> \r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data(){\r\n        return{\r\n            loc_data:[],\r\n            ready:false,\r\n            headers: [\r\n            { text: 'Action',value :'id',sortable: false},\r\n            { text: 'Location',value:'location',sortable: false},\r\n            ], \r\n            loc_key:'',\r\n            user_check:'',\r\n        }\r\n    },\r\nasync created(){\r\n    await axios.get('Procurement/shared_backend/check_user_setup.php')\r\n        .then(\r\n            (response)=>{\r\n                this.user_check = response.data[0].signed;\r\n                var perm = response.data[0];\r\n                if(!(this.user_check=='set')){\r\n                    this.$router.push('../user_setup');\r\n                }\r\n                if(perm.proc_level<4){\r\n                    this.$alert(\"No permission\").then(\r\n                        ()=>{\r\n                            this.$router.go(-1);\r\n                        }\r\n                    )\r\n                }\r\n            }\r\n        )\r\n    await axios.get('Procurement/shared_backend/location.php')\r\n    .then(\r\n        (response)=>{\r\n            if(response.data!='empty'){\r\n                this.loc_data = response.data;\r\n                this.loc_data.id = response.data.id;\r\n                this.loc_data.code = response.data.code;\r\n                \r\n            }\r\n        }\r\n    )\r\n    this.ready = true;\r\n},\r\nmethods:{\r\n    remove(targetID){\r\n        var formData = new FormData();\r\n        formData.append('id',targetID);\r\n        axios.post('Procurement/admin/backend/remove_location.php',formData)\r\n        .then(\r\n            (response)=>{\r\n                this.loc_data = response.data;\r\n                this.loc_data.id = response.data.id;\r\n                this.loc_data.code = response.data.code;\r\n            }\r\n        )\r\n    },\r\n    searchloc(){\r\n        var formData = new FormData();\r\n        var key = this.loc_key;\r\n        formData.append('code',key);\r\n        axios.post('Procurement/admin/backend/search_location.php',formData)\r\n        .then(\r\n            (response)=>{\r\n                this.loc_data = response.data;\r\n                this.loc_data.id = response.data.id;\r\n                this.loc_data.code = response.data.code;\r\n            }\r\n        )\r\n    },\r\n    add_new(){\r\n        var formData = new FormData();\r\n        var loc = this.loc_key; \r\n        formData.append('code',loc);\r\n        axios.post('Procurement/admin/backend/new_location.php',formData)\r\n        .then(\r\n            (response)=>{\r\n                this.loc_data = response.data;\r\n                this.loc_data.id = response.data.id;\r\n                this.loc_data.code = response.data.code;\r\n                this.loc_key='';\r\n            }\r\n        )\r\n    }\r\n}\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/Procurement/admin/locmngt.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.ready)?_c('div',{staticClass:\"col-lg-6\",attrs:{\"data-app\":\"\"}},[_c('label',{staticStyle:{\"margin-right\":\"0.5em\",\"padding-top\":\"0.3em\"}},[_vm._v(\"Insert New location\")]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\",staticStyle:{\"display\":\"flex\",\"flex-direction\":\"row\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.loc_key),expression:\"loc_key\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"20em\"},attrs:{\"type\":\"text\",\"placeholder\":\"Search / Add location\"},domProps:{\"value\":(_vm.loc_key)},on:{\"keyup\":_vm.searchloc,\"input\":function($event){if($event.target.composing){ return; }_vm.loc_key=$event.target.value}}}),_vm._v(\" \"),_c('button',{staticClass:\"form-control\",staticStyle:{\"margin-left\":\"auto\",\"width\":\"5em\"},on:{\"click\":function($event){$event.preventDefault();return _vm.add_new($event)}}},[_vm._v(\"Insert\")])]),_vm._v(\" \"),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.loc_data,\"rows-per-page-items\":10},scopedSlots:_vm._u([{key:\"items\",fn:function(props){return [_c('tr',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.remove(props.item.id)}}},[_c('td',[_vm._v(\"Remove\")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(props.item.code))])])]}}],null,false,3856838132)}),_c('br')],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-585d9de2\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/Procurement/admin/locmngt.vue\n// module id = 1401\n// module chunks = 117","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./locmngt.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./locmngt.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-585d9de2\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./locmngt.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Procurement/admin/locmngt.vue\n// module id = 305\n// module chunks = 117"],"sourceRoot":""}